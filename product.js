!function o(a,s,l){function u(t,e){if(!s[t]){if(!a[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(c)return c(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var i=s[t]={exports:{}};a[t][0].call(i.exports,function(e){return u(a[t][1][e]||e)},i,i.exports,o,a,s,l)}return s[t].exports}for(var c="function"==typeof require&&require,e=0;e<l.length;e++)u(l[e]);return u}({1:[function(e,t,n){var r=e("../src/store-engine"),i=e("../storages/all"),o=[e("../plugins/json2")];t.exports=r.createStore(i,o)},{"../plugins/json2":2,"../src/store-engine":4,"../storages/all":6}],2:[function(e,t,n){t.exports=function(){return e("./lib/json2"),{}}},{"./lib/json2":3}],3:[function(require,module,exports){"object"!=typeof JSON&&(JSON={}),function(){"use strict";var rx_one=/^[\],:{}\s]*$/,rx_two=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,rx_three=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,rx_four=/(?:^|:|,)(?:\s*\[)+/g,rx_escapable=/[\\"\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,rx_dangerous=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta,rep;function f(e){return e<10?"0"+e:e}function this_value(){return this.valueOf()}function quote(e){return rx_escapable.lastIndex=0,rx_escapable.test(e)?'"'+e.replace(rx_escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,o,a,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,n=0;n<o;n+=1)a[n]=str(n,l)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+s+"]":"["+a.join(",")+"]",gap=s,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;n<o;n+=1)"string"==typeof rep[n]&&(i=str(r=rep[n],l))&&a.push(quote(r)+(gap?": ":":")+i);else for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(i=str(r,l))&&a.push(quote(r)+(gap?": ":":")+i);return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+s+"}":"{"+a.join(",")+"}",gap=s,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},Boolean.prototype.toJSON=this_value,Number.prototype.toJSON=this_value,String.prototype.toJSON=this_value),"function"!=typeof JSON.stringify&&(meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},JSON.stringify=function(e,t,n){var r;if(indent=gap="","number"==typeof n)for(r=0;r<n;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if((rep=t)&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(void 0!==(r=walk(i,n))?i[n]=r:delete i[n]);return reviver.call(e,t,i)}if(text=String(text),rx_dangerous.lastIndex=0,rx_dangerous.test(text)&&(text=text.replace(rx_dangerous,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),rx_one.test(text.replace(rx_two,"@").replace(rx_three,"]").replace(rx_four,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}()},{}],4:[function(e,t,n){var r=e("./util"),a=r.slice,s=r.pluck,l=r.each,u=r.bind,c=r.create,d=r.isList,f=r.isFunction,p=r.isObject,m={version:"2.0.12",enabled:!(t.exports={createStore:i}),get:function(e,t){var n=this.storage.read(this._namespacePrefix+e);return this._deserialize(n,t)},set:function(e,t){return void 0===t?this.remove(e):(this.storage.write(this._namespacePrefix+e,this._serialize(t)),t)},remove:function(e){this.storage.remove(this._namespacePrefix+e)},each:function(n){var r=this;this.storage.each(function(e,t){n.call(r,r._deserialize(e),(t||"").replace(r._namespaceRegexp,""))})},clearAll:function(){this.storage.clearAll()},hasNamespace:function(e){return this._namespacePrefix=="__storejs_"+e+"_"},createStore:function(){return i.apply(this,arguments)},addPlugin:function(e){this._addPlugin(e)},namespace:function(e){return i(this.storage,this.plugins,e)}};function i(e,t,n){n=n||"",e&&!d(e)&&(e=[e]),t&&!d(t)&&(t=[t]);var r=n?"__storejs_"+n+"_":"",i=n?new RegExp("^"+r):null;if(!/^[a-zA-Z0-9_\-]*$/.test(n))throw new Error("store.js namespaces can only have alphanumerics + underscores and dashes");var o=c({_namespacePrefix:r,_namespaceRegexp:i,_testStorage:function(e){try{var t="__storejs__test__";e.write(t,t);var n=e.read(t)===t;return e.remove(t),n}catch(e){return!1}},_assignPluginFnProp:function(r,e){var i=this[e];this[e]=function(){var n=a(arguments,0),e=this;var t=[function(){if(i)return l(arguments,function(e,t){n[t]=e}),i.apply(e,n)}].concat(n);return r.apply(e,t)}},_serialize:function(e){return JSON.stringify(e)},_deserialize:function(t,e){if(!t)return e;var n="";try{n=JSON.parse(t)}catch(e){n=t}return void 0!==n?n:e},_addStorage:function(e){this.enabled||this._testStorage(e)&&(this.storage=e,this.enabled=!0)},_addPlugin:function(n){var r=this;if(d(n))l(n,function(e){r._addPlugin(e)});else if(!s(this.plugins,function(e){return n===e})){if(this.plugins.push(n),!f(n))throw new Error("Plugins must be function values that return objects");var e=n.call(this);if(!p(e))throw new Error("Plugins must return an object of function properties");l(e,function(e,t){if(!f(e))throw new Error("Bad plugin property: "+t+" from plugin "+n.name+". Plugins should only return functions.");r._assignPluginFnProp(e,t)})}},addStorage:function(e){!function(){var e="undefined"==typeof console?null:console;e&&(e.warn?e.warn:e.log).apply(e,arguments)}("store.addStorage(storage) is deprecated. Use createStore([storages])"),this._addStorage(e)}},m,{plugins:[]});return o.raw={},l(o,function(e,t){f(e)&&(o.raw[t]=u(o,e))}),l(e,function(e){o._addStorage(e)}),l(t,function(e){o._addPlugin(e)}),o}},{"./util":5}],5:[function(e,u,t){(function(e){var a=Object.assign?Object.assign:function(n,e,t,r){for(var i=1;i<arguments.length;i++)o(Object(arguments[i]),function(e,t){n[t]=e});return n},t=function(){{if(Object.create)return function(e,t,n,r){var i=s(arguments,1);return a.apply(this,[Object.create(e)].concat(i))};function o(){}return function(e,t,n,r){var i=s(arguments,1);return o.prototype=e,a.apply(this,[new o].concat(i))}}}(),n=String.prototype.trim?function(e){return String.prototype.trim.call(e)}:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},r="undefined"!=typeof window?window:e;function s(e,t){return Array.prototype.slice.call(e,t||0)}function o(e,n){i(e,function(e,t){return n(e,t),!1})}function i(e,t){if(l(e)){for(var n=0;n<e.length;n++)if(t(e[n],n))return e[n]}else for(var r in e)if(e.hasOwnProperty(r)&&t(e[r],r))return e[r]}function l(e){return null!=e&&"function"!=typeof e&&"number"==typeof e.length}u.exports={assign:a,create:t,trim:n,bind:function(e,t){return function(){return t.apply(e,Array.prototype.slice.call(arguments,0))}},slice:s,each:o,map:function(e,n){var r=l(e)?[]:{};return i(e,function(e,t){return r[t]=n(e,t),!1}),r},pluck:i,isList:l,isFunction:function(e){return e&&"[object Function]"==={}.toString.call(e)},isObject:function(e){return e&&"[object Object]"==={}.toString.call(e)},Global:r}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],6:[function(e,t,n){t.exports=[e("./localStorage"),e("./oldFF-globalStorage"),e("./oldIE-userDataStorage"),e("./cookieStorage"),e("./sessionStorage"),e("./memoryStorage")]},{"./cookieStorage":7,"./localStorage":8,"./memoryStorage":9,"./oldFF-globalStorage":10,"./oldIE-userDataStorage":11,"./sessionStorage":12}],7:[function(e,t,n){var r=e("../src/util"),i=r.Global,o=r.trim;t.exports={name:"cookieStorage",read:function(e){if(!e||!u(e))return null;var t="(?:^|.*;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*((?:[^;](?!;))*[^;]?).*";return unescape(a.cookie.replace(new RegExp(t),"$1"))},write:function(e,t){if(!e)return;a.cookie=escape(e)+"="+escape(t)+"; expires=Tue, 19 Jan 2038 03:14:07 GMT; path=/"},each:s,remove:l,clearAll:function(){s(function(e,t){l(t)})}};var a=i.document;function s(e){for(var t=a.cookie.split(/; ?/g),n=t.length-1;0<=n;n--)if(o(t[n])){var r=t[n].split("="),i=unescape(r[0]);e(unescape(r[1]),i)}}function l(e){e&&u(e)&&(a.cookie=escape(e)+"=; expires=Thu, 01 Jan 1970 00:00:00 GMT; path=/")}function u(e){return new RegExp("(?:^|;\\s*)"+escape(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=").test(a.cookie)}},{"../src/util":5}],8:[function(e,t,n){var r=e("../src/util").Global;function i(){return r.localStorage}function o(e){return i().getItem(e)}t.exports={name:"localStorage",read:o,write:function(e,t){return i().setItem(e,t)},each:function(e){for(var t=i().length-1;0<=t;t--){var n=i().key(t);e(o(n),n)}},remove:function(e){return i().removeItem(e)},clearAll:function(){return i().clear()}}},{"../src/util":5}],9:[function(e,t,n){t.exports={name:"memoryStorage",read:function(e){return r[e]},write:function(e,t){r[e]=t},each:function(e){for(var t in r)r.hasOwnProperty(t)&&e(r[t],t)},remove:function(e){delete r[e]},clearAll:function(e){r={}}};var r={}},{}],10:[function(e,t,n){var r=e("../src/util").Global;t.exports={name:"oldFF-globalStorage",read:function(e){return i[e]},write:function(e,t){i[e]=t},each:o,remove:function(e){return i.removeItem(e)},clearAll:function(){o(function(e,t){delete i[e]})}};var i=r.globalStorage;function o(e){for(var t=i.length-1;0<=t;t--){var n=i.key(t);e(i[n],n)}}},{"../src/util":5}],11:[function(e,t,n){var r=e("../src/util").Global;t.exports={name:"oldIE-userDataStorage",write:function(e,t){if(s)return;var n=u(e);a(function(e){e.setAttribute(n,t),e.save(i)})},read:function(e){if(s)return;var t=u(e),n=null;return a(function(e){n=e.getAttribute(t)}),n},each:function(i){a(function(e){for(var t=e.XMLDocument.documentElement.attributes,n=t.length-1;0<=n;n--){var r=t[n];i(e.getAttribute(r.name),r.name)}})},remove:function(e){var t=u(e);a(function(e){e.removeAttribute(t),e.save(i)})},clearAll:function(){a(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(i);for(var n=t.length-1;0<=n;n--)e.removeAttribute(t[n].name);e.save(i)})}};var i="storejs",o=r.document,a=function(){if(!o||!o.documentElement||!o.documentElement.addBehavior)return null;var n,e,r;try{(e=new ActiveXObject("htmlfile")).open(),e.write('<script>document.w=window<\/script><iframe src="/favicon.ico"></iframe>'),e.close(),n=e.w.frames[0].document,r=n.createElement("div")}catch(e){r=o.createElement("div"),n=o.body}return function(e){var t=[].slice.call(arguments,0);t.unshift(r),n.appendChild(r),r.addBehavior("#default#userData"),r.load(i),e.apply(this,t),n.removeChild(r)}}(),s=(r.navigator?r.navigator.userAgent:"").match(/ (MSIE 8|MSIE 9|MSIE 10)\./);var l=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g");function u(e){return e.replace(/^\d/,"___$&").replace(l,"___")}},{"../src/util":5}],12:[function(e,t,n){var r=e("../src/util").Global;function i(){return r.sessionStorage}function o(e){return i().getItem(e)}t.exports={name:"sessionStorage",read:o,write:function(e,t){return i().setItem(e,t)},each:function(e){for(var t=i().length-1;0<=t;t--){var n=i().key(t);e(o(n),n)}},remove:function(e){return i().removeItem(e)},clearAll:function(){return i().clear()}}},{"../src/util":5}],13:[function(e,t,n){"use strict";var r,o,i,a,s,l,u,c={FOOD_SELLER_NAME_IN_LOWERCASE_NO_SPACES:s="tiendasmetro",FOOD_SELLER_ID_IN_LOWERCASE_NO_SPACES:"1",init:function(){r=Fizzmod.Utils.getCookie("store-name"),Fizzmod.Utils.getCookie("VTEXSC"),o=function(e){var t=document.createElement("textarea");return t.innerHTML=e,t.value}("&amp;"),(i=window.location.search).replace("?","").split(o),(a=new RegExp("sc=","i")).test(i)},isCommercialPolicyConfigurated:function(){return""!=r},getQueries:function(){return i.replace("?","").split(o)},getSaleChannel:function(){return Fizzmod.Utils.getCookie("VTEXSC")||"sc=3"},getHasScParam:function(){return a.test(i)},setCommercialPilicyStore:function(e,t){var n=new RegExp("sc=","i"),r=e.find(function(e){return n.test(e)});if(r&&r!==t){var i=e.filter(function(e){return!n.test(e)});return i=i.concat([r]).join(o),Fizzmod.Utils.setCookie("VTEXSC",r,30),window.location.search=i}},isAFoodProduct:function(e){var t=l(),n=Aurora.Utils.getDefaultSeller(e.items[0]).sellerName.split(" ").join("").toLowerCase();return t&&n==s},isFoodSiteAndNoConfiguredStore:l=function(){return $("body").hasClass("is-food-site")},isThereAFoodProduct:function(e){return $(e).filter(function(e){var t=this.seller.split(" ").join("").toLowerCase();return t==s||"1"==t}).length},isFoodSiteAndIsConfiguredStoreAndNoAddToCartYet:function(e){var t=Aurora.Utils.getDefaultSeller(e.items[0]).sellerName.split(" ").join("").toLowerCase();return $("body").hasClass("is-food-site")&&t==s&&!Fizzmod.Utils.getCookie("noConfiguredStore")&&"true"==u("haveNotBeenshowedDeliveryModal")},setSessionVariable:function(e,t){sessionStorage.setItem(e,t)},deleteSessionVariable:function(e){sessionStorage.removeItem(e)},getSessionVariable:u=function(e){return sessionStorage.getItem(e)},isFoodSiteAndIsConfiguredStoreAndNoShowedModal:function(){return $("body").hasClass("is-food-site")&&!Fizzmod.Utils.getCookie("noConfiguredStore")&&"true"==u("haveNotBeenshowedDeliveryModal")}};c.init(),t.exports=c},{}],14:[function(e,t,n){"use strict";var r,i=e("./comercial-policy-store/commercial-policy-manager"),o=(r=function(){$("#locality-select").select2({minimumResultsForSearch:1/0,theme:"gray-border-select max-top",placeholder:"Selecciona un departamento"}),$("#city-select").select2({minimumResultsForSearch:1/0,theme:"gray-border-select max-top",placeholder:"Selecciona una ciudad"})},{init:function(){r()},showStoreModal:function(){var e=i;e.isCommercialPolicyConfigurated()?e.getHasScParam()&&e.setCommercialPilicyStore(e.getQueries(),e.getSaleChannel()):JSON.stringify(Fizzmod.Utils.getCookie("linxModalController"))===JSON.stringify({openSelectedSCModal:!0,openDeliveryModal:!0})&&showOverlay($("#store-locality"))},showSuccessConfiguredMessage:function(){$("html").addClass("scroll-lock"),$("body").addClass("overlay-open, scroll-lock"),$(".modalMsj").fadeIn()},hideSuccessConfiguredMessage:function(){$("html").removeClass("scroll-lock"),$("body").removeClass("overlay-open, scroll-lock"),$(".modalMsj").fadeOut()},showModalDeliveryMessagge:function(){$("html").addClass("scroll-lock"),$("body").addClass("overlay-open, scroll-lock"),$(".modalDelivery").fadeIn(),i.setSessionVariable("haveNotBeenshowedDeliveryModal",!1)},hideModalDeliveryMessagge:function(){$("html").removeClass("scroll-lock"),$("body").removeClass("overlay-open, scroll-lock"),$(".modalDelivery").fadeOut(),Fizzmod.Utils.setCookie("linxModalController",{openSelectedSCModal:!1,openDeliveryModal:!1},30,!0)}});o.init(),t.exports=o},{"./comercial-policy-store/commercial-policy-manager":13}],15:[function(e,t,n){"use strict";var p=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},r=function(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e};function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var l,U,g,R,L,o,z,a,s=e("store"),m=e("./overlay-store"),v=e("./comercial-policy-store/commercial-policy-manager");function u(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),this.discountFlagClasses=["dto-2x1--","dto-2x3--","dto-2x4--","dto-2x5--","dto-3x5--","dto-3x6--","50daund","70daund","jumbo-ofertas","tcenco24","tcenco"],this.specialFlagClasses=["flag-plus_18","pcenco","flag-spjumbo","flag-mundo_saludable","flag-vive_sabores","flag-jumbo_pack","flag-jbo"],this.eventsFlagClasses=["sxh","egrati","flag-exclusivo","flag-folleto"],this.productTypeFlagClasses=["flag-refrigerado","flag-congelado"]}!function(){var e=document.createElement("script");e.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}(),l=lodash,U=jQuery,g=Fizzmod,R=window,r(u,[{key:"flagsLimiter",value:function(e,t,n){var r=1<arguments.length&&t!==L?t:3,i=n,o=e.find(i),a=[].concat(d(e.find(".flag"))),s=this.discountFlagClasses.find(function(t){return a.some(function(e){return e.className.includes(t)})}),l=this.specialFlagClasses.find(function(t){return a.some(function(e){return e.className.includes(t)})}),u=this.eventsFlagClasses.find(function(t){return a.some(function(e){return e.className.includes(t)})}),c=[u="tcenco"===s?"sxh":u,s,l,this.productTypeFlagClasses.find(function(t){return a.some(function(e){return e.className.includes(t)})})].filter(Boolean).filter(function(e,t){return t<2});c&&1<c.length&&a.length>r&&(o[0]&&(o[0].innerHTML=""),c.map(function(e){o.append('<div class="flag '+e+'"></div>')}))}}]),o=u,z=void 0,a={catalog:L,player:L,selectedSku:null,initialize:function(){(z=this).catalog=Aurora.catalog,this.minicart=Aurora.minicart,this.orderInfo=Aurora.orderInfo,z.flagsSettings=new o,U(document).ready(function(){skuJson?z.documentReady():g.TagManager.once("page",function(e,t){vtexjs.catalog.getProductWithVariations(t.productId).done(function(e){skuJson=e,z.documentReady()})})})},documentReady:function(){z.productViewEvents(),z.hideEmptyField(),z.notifyMe(),z.setProductData(),U(".paper-gift-add").hide().attr("data-id",skuJson.skus[0].sku),U("body").hasClass("product-food")&&(z.hideEmptyContentFood(),z.setFoodSpecifications()),U("body").hasClass("product-nonfood")&&(z.hideEmptyContentNonFood(),z.setNonFoodSpecifications(),U(document).on("click",".desc-tech-wrapper .title.not-selected",z.changeViewDescription)),z.hidePromissoryIcon(),z.showSellerInfo(),z.aditionalProducts(),z.buyTogether(),z.recommendedProducts(),z.reviewsEvents(),z.setSkuSelector(),Aurora.isMobile()?z.setSliderImagesMobile():(z.productScroll(),z.productImageZoom(),z.showMultipleThumb()),z.shareProduct(),z.productHeaderContentActions()},showSellerInfo:function(){for(var e=0;e<skuJson.skus.length;e++){if(0!=skuJson.skus[e].installments){var t=skuJson.skus[e].seller;"Jumbo Colombia Food"!=t&&"CENCOSUD"!=t||(t="Cencosud Colombia")}}var n='<div class="seller-info">Este producto es vendido, facturado y entregado por <span class="seller-info-color">'+t+"</span><div>";U(".info-wrapper .is-available").append(n)},productViewEvents:function(){var i=this;U(R).on("skuSelected.vtex",function(e,t,n){z.selectedSku=n.sku,z.checkAvailability(n)}),U(document).on("click",elem.productViewAddToCart,function(e){return function(e){var s=U(e.currentTarget),t=s.parent(),n=t.find(elem.productQuantity),l=t.find(elem.productQuantityInputHidden),u=n.data("cartlimit"),c=elem.productAddToCart.replace(".","")+"--loading",d=elem.productAddToCart.replace(".","")+"--success",f=spinnerLoader;if(s.hasClass(c))return console.log("Still loading...");(f=s.find(".loader").length?s.find(".loader"):U(f).appendTo(s).hide()).fadeIn(timeFx,easing),s.addClass(c),z.catalog.searchProduct(skuJson.productId).then(function(e){v.isAFoodProduct(e)?(m.showStoreModal(),f.fadeOut(timeFx,easing,function(){s.removeClass(c)})):v.isFoodSiteAndIsConfiguredStoreAndNoAddToCartYet(e)&&m.showModalDeliveryMessagge();var t=p(skuJson.skus,1)[0],n=t.sku,r=t.sellerId,i=parseFloat(l.val()||1),o=g.Minicart.getItems().filter(function(e){return e.id===n.toString()});o.length&&(i+=o[0].quantity),0<u&&u<i&&(i=u);var a=[{id:n,quantity:i,seller:r}];vtexjs.checkout.orderForm;if(Aurora.isExpressShippingActivated()){if(45<=vtexjs.checkout.orderForm.items.length)return Aurora.showOverlay("#express-limit-warning"),void f.fadeOut(timeFx,easing,function(){s.removeClass(c)});if(!(g.Catalog.getProductCacheBySku(a[0].id).items[0].modalType||"").includes("Químico"))return Aurora.showOverlay("#not-express-warning",a),void f.fadeOut(timeFx,easing,function(){s.removeClass(c)})}vtexjs.checkout.addToCart(a,null,Aurora.sc).done(function(e){f.fadeOut(timeFx,easing,function(){s.removeClass(c).addClass(d),setTimeout(function(){return s.removeClass(d)},2e3),z.setPaperGift(i),U("body").hasClass("product")&&Aurora.showOverlay(U("#added-to-cart"))})})})}(e)}).on("change",elem.productViewQuantityModeInput,function(e){return function(e){var t=e.currentTarget,n=(U(t),t.value),r=skuJson.productId;U(R).trigger("PRODUCT_QUANTITY_MODE_CHANGE",{id:r,quantityMode:n})}(e)}).on("change",elem.productViewQuantity+" "+elem.productQuantityInputHidden,function(e){return function(e){var t=e.currentTarget,n=U(t),r=parseFloat(t.value),i=n.parent(),o=i.data(),a=o.unitmultiplier,s=o.measurementunit,l=U(elem.productViewQuantity).not(i);l.find(elem.productQuantityInputHidden).val(r),l.find(elem.productQuantityInput).val(Math.round(r*a*100)/100+(s!=L&&null==s.match(/un/gi)?" "+s:""))}(e)}),this.minicart.getOrderForm().then(function(e){i.orderInfo.getOrderInfo(e.orderFormId).then(function(e){return function(e){var t=0<arguments.length&&e!==L?e:skuJson.productId,r=U(elem.productViewNoteInput);i.catalog.searchProduct(t).then(function(e){var t=e.items[0].itemId,n=i.orderInfo.getNote(t);n&&r.val(n)})}()})}),U(document).on("blur",elem.productViewNoteInput,function(e){return function(e){var n=e.currentTarget,t=U(n),r=n.value;t.parents(elem.productItem).data("id");n.disabled=!0,i.catalog.searchProduct(skuJson.productId).then(function(e){var t=e.items[0].itemId;i.orderInfo.putNote(t,r).then(function(){n.disabled=!1})})}(e)})},setPaperGift:function(e){null!==productPaperData&&(productPaperData[skuJson.skus[0].sku].giftWrap.quantity>e&&(productPaperData[skuJson.skus[0].sku].giftWrap.quantity=e),Aurora.orderInfo.putSkuItemData(skuJson.skus[0].sku,{giftWrap:productPaperData[skuJson.skus[0].sku].giftWrap}))},setFlixMedia:function(){g.Utils.getSKU(skuJson.skus[0].sku).done(function(e){if(e.length){var t=e[0].items[0].ean;U.get("http://media.flixcar.com/delivery/js/inpage/6859/f5/ean/"+t+"?&=6859&=f5&ean="+t+"&ext=.js").done(function(e){U(".content-description .loader").fadeOut(),e.match(/append\.js/g)?U(R).trigger("flixMediaReady"):(U(".desc-tech-wrapper .header").addClass("show"),U(".productDescription").fadeIn())})}})},checkAvailability:function(e){e.available?(U(".product .is-available").show().children().show(),U(".product .not-available").hide(),U(".product .is-available").find(".prod-controls").removeClass("hideBtnBuy")):1<skuJson.skus.length?(U(".product .is-available").children().not(".containerSkus").hide(),U(".product .not-available").show(),U(".product .is-available").find(".prod-controls").addClass("hideBtnBuy")):(U(".product .is-available").hide(),U(".product .not-available").show(),U(".product .is-available").find(".prod-controls").removeClass("hideBtnBuy"))},hideEmptyField:function(){U(".productDescription").is(":empty")&&U(".product .description").hide()},notifyMe:function(){function t(){var t=a.find(".notify-me-submit"),n=t.find(".loader");if(!t.hasClass("success")&&!t.hasClass("loading")){var e=a.find(".notify-me-name"),r=a.find(".notify-me-email"),i=!0;if([e,r].forEach(function(e){var t=e.val();(i=i&&t&&!(e.hasClass("notify-me-email")&&!g.Utils.isEmail(t)))||e.addClass("error")}),i){t.addClass("loading"),n.fadeIn(timeFx,easing);var o={notifymeClientName:e.val(),notifymeClientEmail:r.val(),notifymeIdSku:z.selectedSku||skuJson.skus[0].sku};U.ajax({url:"/no-cache/AviseMe.aspx",type:"POST",data:o,success:function(e){n.fadeOut(timeFx,easing,function(){a.find(".success").slideDown(timeFx,easing),t.removeClass("loading"),t.addClass("success")})}})}}}var a=U(".notify-me");a.find(".notify-me-submit").on("click",t),a.find("input").on("keyup",function(e){13==e.which&&t()})},setProductData:function(){function u(e){if(void 0!==e){var t,n,r=U(elem.productViewQuantity),i=r.find(elem.productQuantityInput),o=U(".plugin-preco").parents(elem.pricesWrapper),a=U(".plugin-preco strong").get(),s=U(".plugin-preco strong.skuListPrice").eq(0).text(),l=U(".plugin-preco strong.skuBestPrice").eq(0).text(),u=e.cart_limit,c=e.cart_limit_express,d=e.measurement_unit,f=e.unit_multiplier,p=(e.allow_notes,e.allow_substitute,e.promotions),m=e.unit_multiplier_un,g=e.measurement_unit_un,v=(e.measurement_unit_selector,e.has_gift_wraps,e.promotionData),h=v===L?{}:v,y=Aurora.priceConfig.productPage,b=(t=J.filter(function(e){return e.id===skuJson.productId}),n=void 0,t.length&&(n=t[0]),n),w="measurementUnit",k=1;b&&"quantityMode"in b&&(w=b.quantityMode),Aurora.isExpressShippingActivated()?0<c?r.data("cartlimit",c):r.data("cartlimit"):0<u?r.data("cartlimit",u):Aurora.getCartLimit().done(function(e){r.data("cartlimit",e)}),f?(r.data("unitmultiplier",f),k=f):r.data("unitmultiplier",1);var S=!1,x=f,C=d;if(d&&null===d.match(/un/gi)){r.data("measurementunit",d),U(".product-info "+elem.productQuantityMeasurementUnit).text(d),U(R).trigger("PRODUCT_QUANTITY_MODE_CHANGE",{quantityMode:w,source:"set-up",id:skuJson.productId}),k+=" "+d.toLowerCase();Aurora.formatPricePerUnit(parseFloat(s.replace(/\D/g,""))/100);var _=Aurora.formatPricePerUnit(parseFloat(l.replace(/\D/g,""))/(100*ppumOffset));S=!0,y.showPricePerUnit&&((C="kg")&&(C="Gramo"),U(".skuBestPrice").after('<div class="product-prices__price product-prices__price--price-per-unit"> '+C+" a "+_+" </div>"))}else if(f&&m&&g){var A=parseFloat(l.replace(/\D/g,""))/100;switch(S=!0,x=m,C=g,A=Aurora.formatPricePerUnit(A/(m*ppumOffset)),1==f&&o.addModifier("measurable"),C){case"ml":C="Mililitro";break;case"gr":C="Gramo";break;case"un":C="Unidad";break;case"m":C="Metro";break;case"Ml":C="Mililitro";break;case"Gr":C="Gramo";break;case"Un":C="Unidad";break;case"M":C="Metro"}U(".skuBestPrice").after('<div class="product-prices__price product-prices__price--price-per-unit">'+C+" a "+A+" </div>")}else k=1,r.data("unitmultiplier",1);if(f&&m&&g){var I=parseFloat(l.replace(/\D/g,""))/100;S=!0,x=m,C=g,I=Aurora.formatPricePerUnit(I/(m*ppumOffset))}if(i.val(k),a.forEach(function(e){var t=parseFloat(e.innerText.replace(/\D/g,""))/100,n=void 0;n=f&&1!=f?Aurora.formatPrice(t*f):Aurora.formatPrice(t),y.onlyPricePerUnit&&d&&null===d.match(/un/gi)&&(n=Aurora.formatPrice(t)+"  /"+C),e.innerText=n,"skuBestPrice"!=e.className&&"skuListPrice"!=e.className||(e.style.display="inline-block")}),Aurora.hasDiscounter){var P=o;Aurora.isMobile()&&(P=o.find(".descricao-preco"));var F=Aurora.discountByListPrice&&Aurora.unformatPrice(s)>Aurora.unformatPrice(l)?s:l;Aurora.discounter.setDiscountsHTMLFront({discountIds:p,$pricesWrapper:P,price:Aurora.unformatPrice(F)*f,pricePerUnitData:{hasPricePerUnit:S,unitMultiplier:x,measurementUnit:C},isProductPage:!0}),Aurora.discounter.setSkuDiscount(Object.assign({},h,{$pricesWrapper:P,isProductPage:!0}))}U(".plugin-preco").css("opacity",1);var T=U(".flag-wrapper"),O=U(".product-info");if(skuJson){var D=skuJson.skus[0],M=D.listPrice,E=M-D.bestPrice;if(10<=E){var j=Math.floor(100*E/M);if(10<=j){var N;N='<div class="discount-percent" style="display: flex; opacity: 0">'+j+"%</div>",T.append(N),setTimeout(function(){U(".flag-wrapper .discount-percent").addClass("flag").css("opacity",1)},500)}j<=3&&(U(".plugin-preco .skuListPrice, .plugin-preco .valor-de").css("display","none"),U(".plugin-preco .skuBestPrice").text(Aurora.formatPrice(M/100)))}}z.flagsSettings.flagsLimiter(O,2,".flag-wrapper")}}function c(e){function n(e){z.YTplayer=e.target}var t,r=R.outerWidth,i=U(r<=760?".image-wrapper .image":".product-content .thumbs");U('<li class="video-thumb-li">\n\t\t\t\t\t\t\t\t<span class="font-icn youtube"></span>\n\t\t\t\t\t\t\t\t<img class="yt-video-thumb" data-id="'+(t=e)+'" src="http://img.youtube.com/vi/'+t+'/0.jpg"/>\n\t\t\t\t\t\t\t</li>').appendTo(i.css({display:"flex"})).on("click",function(e){return function(e){var t=U(e.currentTarget).find(".yt-video-thumb").data("id");0==U("#youtube-video").length&&(U("body").append('\n\t\t\t\t\t\t<div id="youtube-video" class="overlay">\n\t\t\t\t\t\t\t<div class="overlay__wrapper">\n\t\t\t\t\t\t\t\t<button type="button" class="overlay__close"><div class="font-icn cross"></div></button>\n\t\t\t\t\t\t\t\t<div class="overlay__content">\n\t\t\t\t\t\t\t\t\t<div id="YT-Player"></div>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t</div>'),U("#youtube-video").on("click",function(e){U(e.target).is("#YT-Player")||(Aurora.hideOverlay("#youtube-video"),z.YTplayer.stopVideo())}));z.player=new YT.Player("YT-Player",{height:"390",width:"640",videoId:t,events:{onReady:n}});U("#youtube-video").fadeIn(timeFx,easing).css("display","flex")}(e)})}var J=s.get("productStore"),e=/(colombia|argentina|chilehomolog|jumbo$)/.test(Aurora.environment);this.catalog.searchProduct(skuJson.productId,e).done(function(e){U(document).trigger("productReady",e);var t=e.SkuData,n=e.ProductData,r=e["Vídeo Producto"];e.productReference,e["Nota Pesables"];if(t){var i=Aurora.jsonParse(t);(i=i[Object.keys(i)[0]]).has_gift_wraps&&z.addGiftWraps(),u(i)}else if(n){var o=JSON.parse(n);u(o)}else{var a=p(e.items,1)[0],s={measurement_unit:a.measurementUnit,unit_multiplier:a.unitMultiplier};u(s)}if(r){var l=r[0].replace("https://www.youtube.com/watch?v=","").replace("https://youtu.be/","");c([l])}})},setReleaseFlags:function(){var s=U(".product-content .flag-wrapper");if(!s.children(".flag-producto-nuevo").length){var l=skuJson.skus[0].sku;g.Utils.getSKU(l).done(function(e){var t=((e[0].SkuData?JSON.parse(e[0].SkuData):{})[l]||{}).release_data;if(t){var n=t.date_release_end,r=t.is_new,i=new Date,o=n?n.split("-"):"",a=new Date(o[1]+"-"+o[0]+"-"+o[2])||"";(i.getTime()<a.getTime()||r)&&s.prepend('<p class="flag flag-producto-nuevo">Flag Producto Nuevo</p>')}})}},addGiftWraps:function(){Aurora.minicart.getOrderForm().then(function(e){Aurora.orderInfo.getOrderInfo(e.orderFormId).then(function(e){e.skuData[skuJson.skus[0].sku]!=L&&(e.skuData[skuJson.skus[0].sku].giftWrap==L&&null==e.skuData[skuJson.skus[0].sku].giftWrap||(U("button[data-id="+skuJson.skus[0].sku+"]").addClass("active").find(".check").removeClass("hide"),U("button[data-id="+skuJson.skus[0].sku+"]").after("<button data-sku='"+skuJson.skus[0].sku+"' class='js-delete-gift'><span class='font-icn cross'></span>Eliminar Preferencias de regalo</button>")))})}),U(".paper-gift-add").show()},addPriceNotes:function(e){var t=U(".plugin-preco").parents(elem.pricesWrapper);e&&t.append('\n\t\t\t\t\t<div class="product-prices__notes">\n\t\t\t\t\t\t'+e[0]+"\n\t\t\t\t\t</div>\n\t\t\t\t")},setDescription:function(){var e=U(".productDescription"),t=U(".productDescriptionShort");e.length&&!U(".productDescription").is(":empty")&&U(".description-long").fadeIn(),t.length&&!t.is(":empty")&&U(".description-short").fadeIn()},setNutritionalInfo:function(){var d=U(".inner.nutritional-info"),f=d.find(".nutritional-info__content"),p=d.find(".nutritional-info__details"),m=d.find(".nutritional-info__flags");g.Utils.getSKU(skuJson.skus[0].sku).done(function(e){var t=void 0,n=e[0];for(var r in n)if(r.includes("Nutricional")){t=n[r];var i=r,o=r.match(/(.+)(\(.+)/);null!=o&&2<o.length&&(i="<span>"+o[1]+"</span>"),d.find("h2.title").html(i)}var a=[];if(t&&t.length){t.forEach(function(e){if(e.includes("Porción")||e.includes("Porciones")){var t=n[e];p.append('<div class="nutritional-info__servings"><span>'+e+":</span> "+t+"</div>")}else if(e.includes("Flag")){n[e].forEach(function(e){var t=g.Utils.sanitizeString(e.split("Alto en ")[1]);m.append('<span class="font-icn nutritional-info__flag nutritional-info__flag--'+t+'"></span>')})}else a.push(e)});var s=void 0,l=void 0,u=void 0,c=Math.ceil(a.length/2);f.selector;a.forEach(function(e,t){s=n[e][0].split(" / ")[0],l=n[e][0].split(" / ")[1],u='<div class="nutritional-info__item">\n\t\t\t\t\t\t\t\t\t\t<span class="info">'+e+'</span>\n\t\t\t\t\t\t\t\t\t\t<span class="value value--100g">'+s+'</span>\n\t\t\t\t\t\t\t\t\t\t<span class="value value--serving">'+l+"</span>\n\t\t\t\t\t\t\t\t\t</div>",t<c?U(f.selector+"--left").append(u):U(f.selector+"--right").append(u)}),(Aurora.isMobile()?f.eq(0):f).prepend('<div class="nutritional-info__header">\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="nutritional-info__header-label nutritional-info__header-label--info">Detalle</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="nutritional-info__header-label nutritional-info__header-label--100g">100 g</span>\n\t\t\t\t\t\t\t\t\t\t\t\t<span class="nutritional-info__header-label nutritional-info__header-label--serving">1 porción</span>\n\t\t\t\t\t\t\t\t\t\t\t</div>'),d.fadeIn(timeFx)}})},setSlideToggle:function(){var e=Aurora.isMobile()?".js-slidetoggle .header:has(.control.plus)":".js-slidetoggle .control.plus",t=Aurora.isMobile()?".js-slidetoggle .show-less, .js-slidetoggle .header:has(.control.minus)":".js-slidetoggle .show-less, .js-slidetoggle .control.minus";U(document).on("click",e,function(e){n(e,!0)}).on("click",t,function(e){n(e,!1)});var n=function(e,t){var n=U(e.target).closest(".inner"),r=n.find(".content"),i=n.find(".control");t?(r.stop(!0,!0).slideDown(timeFx),i.removeClass("plus").addClass("minus")):(r.stop(!0,!0).slideUp(timeFx),i.removeClass("minus").addClass("plus"))}},aditionalProducts:function(){var a=this,p=U(".inner.aditional-products"),s=p.find(".loader"),n=p.find(".add-to-cart"),e=p.find(elem.productItem),t=p.find(".product-shelf"),l=[],u=!1;if(e.length){p.find("fieldset, li.helperComplement").remove(),p.find(".product-shelf > *:not(ul)").remove();var r={mode:"horizontal",nextText:"",prevText:"",slideMargin:0,minSlides:1,maxSlides:2,slideWidth:t.width()/2,moveSlides:1,pager:!1,controls:4<e.length,startSlide:0,infiniteLoop:!1,hideControlOnEnd:!0};if(Aurora.isMobile()){var i=p.find(".product-wrapper");i.addClass("swiper-container").children().addClass("swiper-wrapper").children().addClass("swiper-slide"),i.parent().append("<div class='swiper-pagination'></div>");new Swiper(i,{pagination:".swiper-pagination",nextButton:".swiper-button-next",prevButton:".swiper-button-prev",paginationClickable:!0,autoHeight:!0,spaceBetween:20})}else t.bxSlider(r);var c=function(){var e=p.find(".totalizers"),t=e.find(".list-price .value"),n=e.find(".best-price .value"),r=(e.find(".cencosud-price .value"),0),i=0,o=U(elem.productItem+"__select .checkbox-input[checked]").parents(elem.productItem);0==o.length?U(e).hide():U(e).fadeIn(timeFx);for(var a=0;a<o.length;a++){var s=U(o[a]),l=s.find(""+elem.listPriceValue).first(),u=l.length?s.find(""+elem.betterPriceValue).first():s.find(""+elem.regularPriceValue).first(),c=s.find(elem.productQuantityInputHidden).val(),d=l.text().replace(/\D/g,"");d=parseFloat(d*c);var f=u.text().replace(/\D/g,"");f=parseFloat(f*c),!Number.isNaN(d)&&d?r+=d:r+=f,i+=f}r==i?t.parent().hide():t.parent().show(),t.text(Aurora.formatPrice(r)),n.text(Aurora.formatPrice(i))};e.on("change",elem.productItemSelect+" .checkbox-input",function(e){return function(e){var t=e.currentTarget,n=U(t).parents(elem.productItem),i=n.data("id").toString(),o=n.find(elem.productQuantity).find(elem.productQuantityInputHidden).val(),r=p.find(elem.productItem+"--"+i+" "+elem.productItemSelect+" input");t.checked?(u=!u,s.fadeIn(timeFx,easing),r.attr("checked",!0),a.catalog.searchProduct(i).done(function(e){var t=e.items[0].itemId,n=Aurora.Utils.getDefaultSeller(e.items[0]).sellerId,r={productId:i,id:t,seller:n,quantity:o};l.push(r),U(R).trigger("ADDITIONAL_ADDED",[l]),s.fadeOut(timeFx,easing),u=!u})):(r.attr("checked",!1),l=l.filter(function(e){return e.productId!==i}),U(R).trigger("ADDITIONAL_REMOVED",[l]))}(e)}),e.on("change",""+elem.productQuantityInputHidden,function(e){return function(e){for(var t=e.currentTarget,n=U(t).parents(elem.productItem).data("id").toString(),r=t.value,i=0;i<l.length;i++){var o=l[i];if(o.productId==n){o.quantity=r;break}}c()}(e)}),n.on("click",function(e){u||(u=!u,s.fadeIn(timeFx,easing),Aurora.addToCart(l).done(function(e){s.fadeOut(timeFx,easing),u=!u}).fail(function(e){s.fadeOut(timeFx,easing),u=!u}))}),U(R).on("ADDITIONAL_ADDED",function(e,t){return c(),void n.attr("disabled",!1)}),U(R).on("ADDITIONAL_REMOVED",function(e,t){return function(e){c(),e.length||n.attr("disabled",!0)}(t)}),setTimeout(function(){c()},100)}else p.hide()},buyTogether:function(){var t=U(elem.buyTogether),e=t.find("#divCompreJunto table tr"),c=t.find(".loader"),n=(t.find(".totalizers"),U(elem.productItemTemplate).html()),d=Handlebars.compile(n),f=[],s=[];if(U.each(e,function(e,t){var n=U(t),r=n.find(".comprar-junto a").attr("href").toString().match(/sku=.+?(&|$)/gi)[1].replace(/sku=|&/g,""),i=n.find(".buy").text(),o=parseFloat(i.match(/total:.+?\s.+?\s.+?\s/g).toString().replace(/\D/gi,""))/100;if(i.match(/juntos:.+?([\d\.]+)/g)||i.match(/economiza:.+?\s.+?\s.+?\s/g)){var a={id:r,saveAmount:i.match(/juntos:.+?([\d\.]+)/g)?parseFloat(i.match(/juntos:.+?\s.+?\s.+?\s/g).toString().replace(/\D/gi,""))/100:parseFloat(i.match(/economiza:.+?\s.+?\s.+?\s/g).toString().replace(/\D/gi,""))/100,totalValue:o};-1==s.indexOf(r)&&(s.push(r),f.push(a))}}),0<f.length){t.show();var p=0,m=function(e){var t=e.saveAmount+e.totalValue,n=e.totalValue;U(elem.buyTogetherListprice).text(""+Aurora.formatPrice(t)),U(elem.buyTogetherBestprice).text(""+Aurora.formatPrice(n))},r=[],i=function(l){1==f.length&&t.find(elem.buyTogetherActions).hide();var u=t.find(elem.buyTogetherTogetherProduct);if(l.id==skuJson.skus[0].sku&&(u=t.find(elem.buyTogetherCurrentProduct)),-1==r.indexOf(l.id))c.fadeIn(timeFx,easing),r.push(l.id),g.Catalog.searchSku(l.id).done(function(e){var t=e.items[0],n=Aurora.Utils.getDefaultSeller(t),r=n.commertialOffer,i=JSON.parse(e.ProductData||"{}");JSON.parse(e.SkuData||"{}");e.classModifier=["buy-together"];var o=(i.measurement_unit||t.measurementUnit).toUpperCase(),a=t.unitMultiplier;e.available=0<r.AvailableQuantity,e.listPrice=r.ListPrice,e.price=r.Price,e.quantity=1,e.measurementUnit=o,e.unitMultiplier=a,e.unitMultiplierQuantity=null==o.match(/un/gi)?Math.round(e.quantity*a*100)/100+" "+o:e.quantity,e.sellerId=n.sellerId,e.imageSrc=t.images[0].imageUrl,U.extend(f[p],e),l.id!=skuJson.productId&&m(f[p]),u.find(elem.productItem).hide();var s=d(f[p]);U(s).appendTo(u),c.fadeOut(timeFx,easing)});else{var e=t.find(elem.buyTogetherTogetherProduct);e.find(elem.productItem).hide(),e.find(elem.productItem+"--"+l.productId).fadeIn(timeFx,easing),m(f[p])}t.show()};i({id:skuJson.skus[0].sku}),i(f[p]),U(document).on("click",elem.buyTogetherChange,function(){++p==f.length&&(p=0),i(f[p])}),U(document).on("click",elem.buyTogetherRemove,function(){f.splice(p,1),f[p]==L&&(p=0),i(f[p])}),U(document).off("click",elem.buyTogetherAddToCart).on("click",elem.buyTogetherAddToCart,function(){var t=U(this),n=elem.productAddToCart.replace(".","")+"--loading",r=elem.productAddToCart.replace(".","")+"--success";if(t.hasClass(n))return console.log("Loading!");var i=spinnerLoader,e=[{id:skuJson.skus[0].sku,quantity:1,seller:skuJson.skus[0].sellerId},{id:f[p].id,quantity:1,seller:f[p].sellerId}];0<e.length&&(i=0==t.find(".loader").length?U(i).appendTo(t).hide().fadeIn(timeFx,easing):t.find(".loader").fadeIn(timeFx,easing),t.removeClass(r).addClass(n),vtexjs.checkout.addToCart(e,null,Aurora.sc).done(function(e){i.fadeOut(timeFx,easing,function(){t.removeClass(n),t.addClass(r),setTimeout(function(){t.removeClass(r)},2e3),0<U("#added-to-cart.overlay-wrapper").length&&Aurora.showOverlay(U("#added-to-cart"))})}))}),2==U(elem.buyTogether+"__product-wrapper").children().length?U(elem.buyTogetherRemove).hide():U(elem.buyTogetherRemove).show()}else t.hide()},recommendedProducts:function(){var t=U(".inner.related-products"),e=t.find(elem.productItem),n=t.find(".loader");if(0<e.length){t.show();3<e.length&&!Aurora.isMobile()&&function(){var e=t.find(".product-shelf-wrapper");e.find(".product-shelf > *").not("ul").remove(),t.find(".helperComplement").remove(),t.find("fieldset").remove();var r={mode:"horizontal",nextText:"",prevText:"",slideMargin:45,minSlides:1,maxSlides:3,slideWidth:225,moveSlides:1,pager:!1,controls:!0,startSlide:0,onSlideAfter:function(e,t,n){r.startSlide=n},adaptiveHeight:!0};Aurora.isMobile()&&(U.extend(r,{maxSlides:1,pager:"true",controls:!1,infiniteLoop:!1}),delete r.slideWidth);e.find(".product-shelf ul").bxSlider(r)}(),Aurora.isMobile()&&function(){t.find(".helperComplement").remove(),t.find("fieldset").remove();var e=t.find(".product-shelf > ul");e.addClass("swiper-wrapper").wrap("<div class='swiper-container'></div>").find("li").addClass("swiper-slide"),e.parent().append("<div class='swiper-pagination'></div>");new Swiper(e.parent(),{pagination:".swiper-pagination",paginationClickable:!0})}(),n.fadeOut(timeFx,easing)}else t.hide()},productScroll:function(){var e=U(".wrapper.product-wrapper"),t=U("#header, .navigation"),n=U("#header").outerHeight(!0)+U(".wrapper.navigation").outerHeight(!0),r=e.find(".info-wrapper").offset().top+e.find(".info-wrapper").height(),i=U(".header-product");parseInt(i.css("top"));U(R).on("resolutionChanged",function(){var n=0;U.each(t,function(e,t){n+=U(t).height()}),n}),U(document).scroll(function(){var e=U(document).scrollTop(),t=r<e+n;i[t?"fadeIn":"fadeOut"](timeFx,easing),U("body").toggleClass("product-header-active",t)}),U(R).on("headerScroll",function(e,t){i.css("top",t)})},productHeaderContentActions:function(){var t={content:elem.productDescription,anchor:'.anchor[data-anchor="description"]',offset:205,destination:elem.productDescTech},n={content:elem.productSpecifications,anchor:'.anchor[data-anchor="specification"]',offset:205,destination:elem.productDescTech},r={content:elem.productComments,anchor:'.anchor[data-anchor="reviews"]',offset:100,destination:elem.productComments};U(t.content).length&&!U(t.content).is(":empty")&&(U(t.anchor).addClass("visible"),U(t.anchor).click(function(){var e=t.offset;U(document).scrollTop()>U(t.destination).offset().top&&(e=2*t.offset-55),U("html, body").animate({scrollTop:U(t.destination).offset().top-e},timeFx,easing),U('.desc-tech-wrapper .title[data-destec="descp"]').trigger("click")})),U(n.content).length&&U(n.content).text().length?U(n.anchor).addClass("visible").click(function(){var e=n.offset;U(document).scrollTop()>U(n.destination).offset().top&&(e=2*n.offset-55),U("html, body").animate({scrollTop:U(n.destination).offset().top-e},timeFx,easing),U('.desc-tech-wrapper .title[data-destec="tech"]').trigger("click")}):U(".header-product").addClass("no-specifications"),U(r.content).is(":hidden")||(U(r.anchor).addClass("visible"),1===U(".anchor.visible").length&&U(r.anchor).css("width","auto"),U(r.anchor).click(function(){var e=r.offset;U(document).scrollTop()>U(r.destination).offset().top&&(e=2*r.offset+40),U("html, body").animate({scrollTop:U(r.destination).offset().top-e},timeFx,easing)}))},reviewsEvents:function(){function r(){U(elem.reviewsWrapper).hide(),U(elem.reviewsWrapperEmpty).show().css("display","flex")}function s(){U(elem.reviewsMessages).empty();var e,t,n,r=d.reviewsCache,i=0,o=0;for(var a in r){var s=r[a];if(s.active){s.userId=a;var l=new Date(s.date),u=[l.getDate(),l.getMonth()+1,l.getFullYear()].join("-");s.dateFormatted=u,o++,i+=parseFloat(s.rating),e=r[a],n=void 0,t=U(elem.userReviewTemplate).html(),n=Handlebars.compile(t),U(n(e)).appendTo(elem.reviewsMessages).hide().fadeIn(timeFx,easing)}}i=Math.round(i/o),U(elem.reviewsRatingStars).each(function(e,t){U(t).find(".star").removeClass("filled").eq(i-1).prevAll().andSelf().addClass("filled")}),U(elem.reviewsRatingScore).text(i),U(elem.reviewsRatingAmount).text(o);var c=1==o?o+" valoración":o+" valoraciones";U(elem.reviewsRatingAmount).eq(0).text(c),U(elem.reviewsWrapper).hide(),U(elem.reviewsWrapperProductReviews).fadeIn(timeFx,easing).css("display","flex")}U(R).on("Fizzmod.Reviews.Ready",function(e,t,n){return function(e){var t=d.hasComments();Object.keys(e).length<=1&&U(elem.reviewsLoadMoreMessage).hide(),t?s():r(),U(elem.reviewsLoader).fadeOut(timeFx,easing)}(t)}),U(document).on("click",elem.reviewsShowPublishForm,function(e){return function(){if(d.isLoggedIn()){var e=d.reviewsCache[d.user.UserId];if(e){if(e.rating){var t=U(elem.reviewsPublishRating).parent();t.data("rating",e.rating),t.find(".star").eq(e.rating-1).prevAll().andSelf().addClass("filled")}e.title&&U(elem.reviewsPublishCommentTitle).val(e.title),e.body&&U(elem.reviewsPublishCommentBody).val(e.body)}U(elem.reviewsWrapper).hide(),U(elem.reviewsWrapperPublish).fadeIn(timeFx,easing).css("display","flex")}else d.login()}()}).on("mouseenter",elem.reviewsPublishRating,function(e){return function(e){var t=U(e.currentTarget);t.prevAll().andSelf().addClass("filled"),t.nextAll().removeClass("filled")}(e)}).on("mouseleave",elem.reviewsPublishRating,function(e){return function(e){var t=U(e.currentTarget).parent(),n=t.data("rating");t.find(".star").eq(n-1).prevAll().andSelf().addClass("filled")}(e)}).on("click",elem.reviewsPublishRating,function(e){return function(e){var t=U(e.currentTarget).parent(),n=e.currentTarget.dataset.rating;t.data("rating",n),d.publishRating(n)}(e)}).on("blur",elem.reviewsPublishCommentTitle,function(e){return function(e){var t=e.target.value;d.publishTitle(t)}(e)}).on("blur",elem.reviewsPublishCommentBody,function(e){return function(e){var t=e.target.value;d.publishBody(t)}(e)}).on("click",elem.reviewsSubmitForm,function(e){return function(e){var t=U(e.currentTarget).parents(elem.reviewsWrapperPublish),n=t.find(elem.reviewsPublishRating).parent(),r=t.find(elem.reviewsPublishCommentTitle),i=t.find(elem.reviewsPublishCommentBody);function o(e){return!e||/^\s*$/.test(e)}var a=!0;if(t.find(".error").remove(),!n.data("rating")){a=!1,U('<div class="error">Valoración obligatoria</div>').insertAfter(n).hide().fadeIn(timeFx,easing)}if(o(r.val())){a=!1,U('<div class="error">Título obligatorio</div>').insertAfter(r).hide().fadeIn(timeFx,easing)}if(o(i.val())){a=!1,U('<div class="error">Comentario obligatorio</div>').insertAfter(i).hide().fadeIn(timeFx,easing)}a&&(U(elem.reviewsLoader).fadeIn(timeFx,easing),d.submitReview().done(function(e){s(),U(elem.reviewsLoader).fadeOut(timeFx,easing)}))}(e)}).on("click",elem.reviewsCancelForm,function(e){d.hasComments()?s():r()}).on("click",elem.userReviewHelpfullYes,function(e){return function(e){if(d.isLoggedIn()){var t=U(e.currentTarget).parents(elem.userReview).data("userid");U(elem.reviewsLoader).fadeIn(timeFx,easing),d.voteHelpfullReview(t).done(function(e){s(),U(elem.reviewsLoader).fadeOut(timeFx,easing)})}else d.login()}(e)}).on("click",elem.userReviewHelpfullNo,function(e){return function(e){if(d.isLoggedIn()){var t=U(e.currentTarget).parents(elem.userReview).data("userid");U(elem.reviewsLoader).fadeIn(timeFx,easing),d.voteUnhelpfullReview(t).done(function(e){s(),U(elem.reviewsLoader).fadeOut(timeFx,easing)})}else d.login()}(e)}).on("click",elem.reviewsLoadMoreMessage,function(e){return U(elem.reviewsLoadMoreMessage).hide(),void U(elem.reviewsMessages).addModifier("show-all")}),U(elem.reviewsOrderBy).select2({minimumResultsForSearch:1/0,theme:"gray-border-select message-order"});var e=skuJson.productId,d=g.Reviews.init(e)},productImageZoom:function(){var e=U(".product-wrapper #image").zoom({url:g.Utils.getResizedImage(U("#image-main").attr("src"),1e3,1e3)});U(document).on("click","#show .thumbs a",function(){e.trigger("zoom.destroy").zoom({url:g.Utils.getResizedImage(U("#image-main").attr("src"),1e3,1e3)})})},changeViewDescription:function(){U(this).removeClass("not-selected").siblings(".title").addClass("not-selected");var e=U(this).data("destec");U(".desc-tech-wrapper .content > div").removeClass("active").filter('[data-destec="'+e+'"]').addClass("active")},getSpecificationInfoItems:function(){var e=[],t=document.querySelectorAll("#caracteristicas h4.group");if(t.length){var n=Array.from(t).map(function(e){return e.getAttribute("class").replace("group ","")}),r=n.indexOf("Configuraciones");if(-1<r&&n.splice(r,1),n.length){var i=!0,o=!1,a=L;try{for(var s,l=n[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var u=s.value,c=document.querySelectorAll(".group."+u+" tr");e=[].concat(d(e),d(Array.from(c)))}}catch(e){o=!0,a=e}finally{try{!i&&l.return&&l.return()}finally{if(o)throw a}}}}return e},setNonFoodSpecifications:function(){var e=U("table.group.Especificaciones-Tecnicas").first().find("tr");z.addSpecifications("content-technical",e)},setFoodSpecifications:function(){},addSpecifications:function(e,t,n){var r=2<arguments.length&&n!==L?n:"custom";if(0!==t.length){var i=[].concat(d(t.map(function(e,t){return{name:t.querySelector(".name-field").textContent,value:t.querySelector(".value-field").textContent}}))),o=function(e){return'\n\t\t\t\t<div class="product-specifications__column">\n\t\t\t\t\t<div class="product-specifications__field-name">'+e.name+'</div>\n\t\t\t\t\t<div class="product-specifications__field-value">'+e.value+"</div>\n\t\t\t\t</div>"},a=l.chunk(i,2).reduce(function(e,t){var n=p(t,2),r=n[0],i=n[1];return e+'\n\t\t\t\t\t<div class="product-specifications__row">'+(o(r)+(i?o(i):""))+"</div>\n\t\t\t\t"},""),s=7<i.length/2?'<button class="product-specifications__read-more btn dark-border">Ver más</button>':"";U("."+e).append('\n\t\t\t\t<div class="product-specifications product-specifications--'+r+'">\n\t\t\t\t\t'+a+"\n\t\t\t\t\t"+s+"\n\t\t\t\t</div>\n\t\t\t"),U(document).on("click",".product-specifications--"+r+" .product-specifications__read-more",function(e){U(".product-specifications--"+r).addModifier("all")})}},hideEmptyContentFood:function(){},hideEmptyContentNonFood:function(){setTimeout(function(){""===(U(elem.productDescription).html()||"").trim()&&U('h2[data-destec="descp"]').hide();var e=U(".desc-tech-wrapper .header");""===(U(elem.productSpecifications).text()||"").trim()&&U('div[data-destec="tech"]').hide(),e.find("h2").is(":visible")||e.hide()})},showMultipleThumb:function(){var e=".product-info .image-wrapper .thumbs";1<U(e).children("li").length&&U(e).showFlex()},setSkuSelector:function(){var e=U(".product-wrapper .product-info"),t=e.find(".sku-selector"),n=t.find(".skuList"),r=e.find(".prod-controls"),i=e.find(".product-prices__wrapper"),o=t.find(".buy-sku-item-list"),a={};if(skuJson.skus.length<2)return t.hide();if(r.hide(),i.hide(),t.show(),n.each(function(e,t){U(t).find(".portal-notify-me-ref").length&&U(t).addClass("disabled")}),!o.length){var s='<button class="buy-sku-item-list btn primary disabled">\n\t\t\t\t\t\t'+spinnerLoader+'\n\t\t\t\t\t\t<span class="font-icn shopping-cart"></span>\n\t\t\t\t\t\t<span class="product-add-to-cart__text desktop">\n\t\t\t\t\t\t\tAgregar al carrito\n\t\t\t\t\t\t</span>\n\t\t\t\t\t\t<span class="product-add-to-cart__text mobile">\n\t\t\t\t\t\t\tAgregar\n\t\t\t\t\t\t</span>\n\t\t\t\t\t</button>';o=U(s).appendTo(t)}U(document).on("click",".sku-selector .skuList",function(e){if(!U(e.currentTarget).hasClass("disabled")){var t=U(e.currentTarget).find(".buy-button").attr("href"),n=t.replace(/^.+sku=/,"").replace(/&.+$/,""),r=t.replace(/^.+seller=/,"").replace(/&.+$/,""),i=t.replace(/^.+sc=/,"").replace(/&.+$/,"");a={skuId:n,quantity:1,seller:r,sc:i},U(e.currentTarget).addClass("active").siblings().removeClass("active"),o.removeClass("disabled")}}),o.click(function(e){var t=U(e.currentTarget),n=t.find(".loader");if(!t.hasClass("disabled")){n.fadeIn(timeFx,easing);var r=a,i={id:r.skuId,quantity:r.quantity,seller:r.seller};vtexjs.checkout.addToCart([i],null,Aurora.sc).done(function(e){n.fadeOut(timeFx,easing,function(){Aurora.showOverlay(U("#added-to-cart"))})})}})},shareProduct:function(){var e=p(skuJson.skus,1)[0],t=e.image||"http://metrocolombiafood.vteximg.com.br/arquivos/jumbo_icon_152.png";U(".s_share").ShareLink({title:e.skuname,text:e.skuname,image:t,url:R.location.href,class_prefix:"s_",width:640,height:480})},setSliderImagesMobile:function(){U("#image-main").appendTo(".slider-image .slide"),U(".product-info .image-wrapper .image").addClass("ready");var e=U(".thumbs:first img").slice(1);e.length&&(console.log("$thumbs: ",e),e.each(function(e,t){return t.src=g.Utils.getResizedImage(t.src,512,512)}),g.Utils.getResizedImage(327,327),e.appendTo(".slider-image").wrap('<div class="slide" />'),U(".slider-image").bxSlider({mode:"horizontal",nextText:"",prevText:"",slideMargin:0,minSlides:1,maxSlides:1,moveSlides:1,pager:!0,controls:!1,startSlide:0,infiniteLoop:!1}))},hidePromissoryIcon:function(){var e=U(".font-icn.contraentrega").parent();!["1"].includes(skuJson.skus[0].sellerId)&&e&&e.hide()},triggerQuantity:function(e){U(document).find(".product-info .product-quantity__input--hidden").val(e).change()}},(R.Product=a).initialize()},{"./comercial-policy-store/commercial-policy-manager":13,"./overlay-store":14,store:1}]},{},[15]);
//# sourceMappingURL=product.js.map
