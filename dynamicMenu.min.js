!function(){function e(t,n,r){function u(a,o){if(!n[a]){if(!t[a]){var s="function"==typeof require&&require;if(!o&&s)return s(a,!0);if(i)return i(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,function(e){return u(t[a][1][e]||e)},c,c.exports,e,t,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)u(r[a]);return u}return e}()({1:[function(e,t,n){e("./utils");t.exports=function(){function t(){function e(e,t){r?e.apply(this,t):n.push({funct:e,args:t})}function t(){r=!0,g.each(n,function(e){e.funct.apply(this,e.args)}),n=[]}var n=[],r=!1;return{registerHandler:e,applyHandlers:t}}function n(e,t){return t=t||{},v.templates(e).render(t,r())}function r(){function e(e,t){return g.isUndefined(e)?[]:e.sort(function(e,n){var r=t?e[t]:e,u=t?n[t]:n;return r>u?1:r<u?-1:0})}var t={sort:e,formatCurrency:h.formatCurrency,round:Math.round};return t=g.extend(t,g)}function u(e,t){var n=!0,r=t.module;return g.each(t.attributesList,function(t){i(t,e,r)||(n=!1)}),n||console.error(r+": Unable to initialize (Invalid configuration)"),n}function i(e,t,n){var r=!0,u=t[e.name];if(a(n,u,e))return g.each(e.validations,function(t){var i;switch(t){case"required":i=o(n,u,e);break;case"className":i=s(n,u,e);break;case"idName":i=l(n,u,e);break;case"nameAttribute":i=c(n,u,e)}i||(r=!1)}),r}function a(e,t,n){var r=typeof t===n.type||void 0===t;return r||console.error(e+": Configuration error, attribute '"+n.name+"' must be of type "+n.type+" (Currently of type "+typeof t+")"),r}function o(e,t,n){var r=!g.isUndefined(t);return r||(console.error(e+": Configuration error, attribute '"+n.name+"' is required"),!1)}function s(e,t,n){var r=/^-?[_a-zA-Z0-9-]*$/.test(t);return r||(console.error(e+": Configuration error, attribute '"+n.name+"' must be a valid class name"),!1)}function l(e,t,n){var r=/^-?[_a-zA-Z0-9-]*$/.test(t);return r||(console.error(e+": Configuration error, attribute '"+n.name+"' must be a valid id name"),!1)}function c(e,t,n){var r=/^-?[_a-zA-Z0-9-]*$/.test(t);return r||(console.error(e+": Configuration error, attribute '"+n.name+"' must be a valid name attribute"),!1)}function d(){"use strict";function e(e,t,r,i){var a,o=n(e,r,t);o&&(a=i?u[i].find(o):$(o),a.length||console.warn("The selector "+o+" generated for attribute "+e+" not match any element on document, please check your configuration and/or selector declaration"),u[e]=a)}function t(e){return u[e]}function n(e,t,n){switch(n){case"className":return"."+t;case"idName":return"#"+t;case"nameAttribute":return"[name='"+t+"']";default:return console.warn("Unrecognized selector type "+n+" for attribute "+e+", assuming type className"),"."+t}}var r={setSelector:e,getSelector:t},u={};return r}function f(e){function t(t){e=g.mapObject(e,function(e){return g.each(t,function(t){e.url=e.url.replace("{{"+t.name+"}}",t.value)}),e})}function n(e,t,n){var u=$.Deferred(),o=i(e,t,n);if(o){var s=(E-1).toString();return o.url=h.buildQueryString(["_from","_to"],["0",s],o.url),o.headers=o.headers?o.headers:{},o.headers["REST-Range"]="resources=0-"+E,a(o).then(g.partial(r,u,o)).fail(u.reject),u}}function r(e,t,n,r,i){var a=i.getResponseHeader("REST-Content-Range"),o=i.getResponseHeader("resources"),s=o||a;if(s){if(!s)return console.warn("Unable to load all data for partial request, returning only first part"),void e.resolve(n);var l=Number(g.last(s.split("/")));if(l>E)return void u(e,t,n,l)}206!==i.status||s||console.warn("Unable to load all data for partial request, returning only first part"),e.resolve(n)}function u(e,t,n,r){var u=Math.ceil(r/E),i=g.range(1,u),o=[],s=!1;g.find(i,function(e){var n=E*e,r=n+E;return r>b?(s=!0,r=b,void console.warn("Max amount of resources by query reached, loaded only the first "+b+" results")):(n=n.toString(),r=r.toString(),t.url=h.buildQueryString(["_from","_to"],[n,r],t.url),t.headers["REST-Range"]="resources="+n+"-"+r,o.push(a(t)),s)}),$.when.apply($,o).then(function(){1===o.length?(n=g.union(n,g.first(arguments)),e.resolve(n)):(g.each(arguments,function(e){n=g.union(n,g.first(e))}),e.resolve(n))}).fail(e.reject)}function i(t,n,r){var u=$.extend(!0,{},e[t]);return u?(n&&$.each(n,function(e,n){if(-1===u.url.indexOf(e))return void console.error("Attribute "+e+" not found on resource "+t);u.url=u.url.replace("{{"+e+"}}",n)}),r&&($.each(r,function(n,r){e[t].data.hasOwnProperty(n)||console.warn("Attribute "+n+" not exist on resource "+t),u.data[n]=r}),$.each(u.data,function(e,n){void 0===n&&console.warn("Attribute "+e+" not defined on resource "+t)})),u):void console.error("Resource ID "+t+" not found!")}function a(e){return e.dataType="json",e.accepts="application/vnd.vtex.ds.v10+json",e.data&&(e.contentType="application/json",e.data=JSON.stringify(e.data)),$.ajax(e)}return{fetchResource:n,renderResources:t}}function p(e){window.moduleSystem=g.isObject(window.moduleSystem)?window.moduleSystem:{},window.moduleSystem[e]=g.isObject(window.moduleSystem[e])?window.moduleSystem[e]:{}}var m={ModuleHandlersStack:t,validModuleConfiguration:u,renderTemplate:n,GenericSelector:d,ResourceHandler:f,initializePublicModuleResource:p},g=e("underscore"),v=e("jsrender"),h=e("./utils"),b=2500,E=15;return m}()},{"./utils":2,jsrender:14,underscore:15}],2:[function(e,t,n){t.exports=function(){"use strict";function t(e){for(var t=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],n=0;n<t.length;n++)e=e.replace(t[n].letters,t[n].base);return e}function n(e){var t,n,r=decodeURIComponent(window.location.search.substring(1)),u=r.split("&"),i="";return c.find(u,function(r){return t=r.split("="),n=t[0]===e,t[0]===e&&(i=void 0===t[1]||t[1]),n}),i}function r(e,t,n,r){var u,i;t=isNaN(t=Math.abs(t))?2:t,r=void 0==r?".":r,n=void 0==n?",":n,u=e<0?"-":"";var a=parseInt(e=Math.abs(+e||0).toFixed(t))+"";return i=(i=a.length)>3?i%3:0,u+(i?a.substr(0,i)+n:"")+a.substr(i).replace(/(\d{3})(?=\d)/g,"$1"+n)+(t?r+Math.abs(e-a).toFixed(t).slice(2):"")}function u(e,t,n,r){if(n&&r){n.empty();var u=$("<iframe>");u.attr("src",r),n.append(u)}switch(t){case"FancyBox":$.fancybox({autoSize:!0,href:"#"+e,afterClose:function(){$(document).trigger("Dialog:Hide",e)}});break;case"JqueryHideShow":$("#"+e).show();break;case"JqueryFadeInOut":$("#"+e).fadeIn();break;case"FancyBox3":n.empty(),$.fancybox.open({autoSize:!0,href:"#"+e,type:"iframe",src:r,afterClose:function(){$(document).trigger("Dialog:Hide",e)}});break;default:console.warn("Unrecognized display modal method '"+t+"'")}$(document).trigger("Dialog:Show",e)}function i(e,t){switch(t){case"FancyBox":parent.$.fancybox.close();break;case"JqueryHideShow":$("#"+e).hide(),$(document).trigger("Dialog:Hide",e);break;case"JqueryFadeInOut":$("#"+e).fadeOut(),$(document).trigger("Dialog:Hide",e);break;default:console.warn("Unrecognized display modal method '"+t+"'")}}function a(e){var t=0,n=$("."+e);n.each(function(){var e=$(this).outerHeight();t=t<e?e:t}),n.css("height",t)}function o(e,t){return e.split(".").reduce(function(e,t){return e?e[t]:void 0},t||self)}function s(e,t,n){n=n||location.search,n=n.split("?");var r=n[0]||"",u=n[1]||"",i={},a=u.split("&");""===a[0]&&a.pop(),$.each(a,function(){var e=this.split(/=(.+)/);i[e[0]]=e[1]||""}),"object"==typeof e&&"object"==typeof t?$.each(e,function(n){i[e[n]]=t[n]||void 0}):i[e]=t||void 0;var o="?",s=!0;return $.each(i,function(e,t){void 0!==typeof t&&(s?s=!s:o+="&",o+=e+"="+t)}),"?"===o&&(o=""),r+o}var l={getUrlParameter:n,formatCurrency:r,normalizeContainersHeight:a,showDialog:u,hideDialog:i,resolve:o,removeDiacritics:t,buildQueryString:s},c=e("underscore");return l}()},{underscore:15}],3:[function(e,t,n){t.exports={administratorURL:"/menu-administrator",treeLevel:4,categoryTreeContainer:"categoryTree",updateMenuButton:"updateMenu",accountName:"metrocolombiafood",masterDataAcronym:"DM",messagesContainer:"results",dialogContainer:"editDialog",dialogShowMethod:"JqueryHideShow",initialConsecutiveCustomMenuID:1e4,menuContainer:"storeMainMenu"}},{}],4:[function(e,t,n){t.exports={module:"dynamicMenu",attributesList:[{name:"administratorURL",type:"string",validations:["required"]},{name:"treeLevel",type:"number",validations:[]},{name:"categoryTreeContainer",type:"string",validations:["required","className"]},{name:"updateMenuButton",type:"string",validations:["required","className"]},{name:"accountName",type:"string",validations:["required"]},{name:"masterDataAcronym",type:"string",validations:["required"]},{name:"messagesContainer",type:"string",validations:["required","className"]},{name:"dialogContainer",type:"string",validations:["required","idName"]},{name:"dialogShowMethod",type:"string",validations:["required"]},{name:"menuContainer",type:"string",validations:["required","className"]},{name:"initialConsecutiveCustomMenuID",type:"number",validations:[]}]}},{}],5:[function(e,t,n){t.exports=function(){"use strict";function t(){console.info("Initialized module dynamicMenu in Administrator mode"),C=F.getConfiguration(),n()}function n(){var e=F.getCategoriesTree(C.treeLevel),t=F.loadMenu();$.when(e,t).then(function(e,t){e=r(e,t),e=u(e,t),A=i(e),l(A),console.info("Loaded "+t.length+" saved menus")}).fail(function(e){console.error("Unable to load the menu structure",e),w.getSelector("messagesContainer").text("Error al cargar el árbol de categorías:"+e.responseText)})}function r(e,t){return _.chain(t).filter(function(e){return 0===e.idParent&&e.isCustom}).each(function(t){e.push(t)}),e}function u(e,t){return _.each(t,function(t){if(t.isCustom)t.edited=!1,t.children=[],D.push(t),M.push(t.idMenu);else{var n=F.findCategoryByID(t.idMenu,e),r=_.isObject(n);n=n||{amount:0},n.id=t.id,n.idMenu=t.idMenu,n.idParent=t.idParent,n.isActive=t.isActive,n.isCustom=t.isCustom,n.isStock=n.amount>0,n.className=t.className,n.title=t.title,n.name=t.name,n.subName=t.subName,n.order=t.order,n.edited=n.isStock!==t.isStock,r||(console.warn("Unable for find menu data for ID "+t.idMenu),w.getSelector("messagesContainer").append("No se ha encontrado el menú con ID "+t.idMenu+", el menú será desactivado").append("<br>"),n.isActive=!1,D.push(n))}}),e}function i(e,t,n){return _.isArray(e)?(_.each(e,function(e,t){i(e,0,t)}),e):(_.isNumber(e.idMenu)||(e.idMenu=e.id,delete e.id),e.idParent=e.idParent?e.idParent:t,e.isActive=!_.isBoolean(e.isActive)||e.isActive,e.isStock=_.isBoolean(e.isStock)?e.isStock:e.amount>0,e.isCustom=!!e.isCustom&&e.isCustom,e.order=e.order?e.order:n,e.className=e.className?e.className:e.name.replace(/ /g,"-").toLowerCase(),e.title=e.title?e.title:e.name,e.subName=e.subName?e.subName:"",e.edited=!_.isBoolean(e.edited)||e.edited,M.push(e.idMenu),_.isEmpty(e.children)||_.each(e.children,function(t,n){i(t,e.idMenu,n)}),_.isEmpty(D)||(e=a(e)),e)}function a(e){return D=_.chain(D).map(function(t){return t.idParent===e.idMenu?(e.children=_.isArray(e.children)?e.children:[],t.order=e.children.length,e.children.push(t),!1):t}).flatten().value(),e}function o(){var e=s(A);e=_.filter(e,_.property("edited")),e=_.map(e,_.partial(_.omit,_,"edited")),_.isEmpty(e)?w.getSelector("messagesContainer").text("No hay nada que guardar"):m(e)}function s(e){var t=[];if(_.isArray(e))_.each(e,function(e){t=_.union(t,s(e))});else{var n=_.pick(e,"idMenu","idParent","isActive","isCustom","isStock","name","order","url","title","className","subName","edited");e.id&&(n.id=e.id),t.push(n),_.isEmpty(e.children)||(t=_.union(t,s(e.children)))}return t}function l(t){var n=e("../../templates/categoryTree.html"),r=$(w.renderTemplate(n,{menus:t})),u=w.getSelector("categoryTreeContainer");u.empty().append(r),c(u),d(u),f(u),p(u),$(document).trigger("DynamicMenu:adminMenuRendered",[u,t])}function c(e){e.find(".menu").each(function(){$(this).accordion({active:!1,heightStyle:"content",collapsible:!0,header:"> .header"})})}function d(e){e.find(".menuContent").sortable({axis:"y",handle:".header",stop:function(){$(this).parent().find("> .menuContent > .menu").each(function(e,t){var n=Number($(t).attr("data-id")),r=F.findCategoryByMenuId(n,A);if(!r)return void console.warn("Unable for find menu data for ID "+n);r.order!==e&&(r.order=e,r.edited=!0)})}})}function f(e){e.find("[edit-button]").click(function(){var e=$(this).closest("[data-id]"),t=Number(e.attr("data-id")),n=F.findCategoryByMenuId(t,A);if(!n)return void console.warn("Unable for find menu data for ID "+t);v(n)})}function p(e){e.find("[create-button]").click(function(){var e=$(this).closest("[data-id]"),t=Number(e.attr("data-id"));h(F.findCategoryByMenuId(t,A))})}function m(e){var t=w.getSelector("updateMenu"),n=w.getSelector("messagesContainer");t.prop("disabled",!0),n.text("Actualizando..."),console.log("menuData",e),F.saveMenu(e).then(function(){n.text("Menú actualizado con éxito")}).fail(function(e){console.error("Unable to update the menu structure:",e),n.text("Hubo un error al actualizar el menú:",e)}).always(function(){t.prop("disabled",!1)})}function g(e,t){t.parent(".input-group").length?e.insertAfter(t.parent()):e.insertAfter(t)}function v(t){var n=w.getSelector("dialogContainer"),r=e("../../templates/menuEditorDialog.html"),u=$(w.renderTemplate(r)),i={errorPlacement:g};u.find("[close-dialog]").click(function(){x.hideDialog(C.dialogContainer,C.dialogShowMethod)}),n.empty().append(u);var a=n.find("form");n.find("[name='name']").val(t.name),n.find("[name='subName']").val(t.subName),n.find("[name='title']").val(t.title),n.find("[name='url']").val(t.url),n.find("[name='className']").val(t.className),n.find("[name='isActive']").prop("checked",t.isActive),x.showDialog(C.dialogContainer,C.dialogShowMethod),i.submitHandler=function(){t.name=n.find("[name='name']").val(),t.subName=n.find("[name='subName']").val(),t.title=n.find("[name='title']").val(),t.url=n.find("[name='url']").val(),t.className=n.find("[name='className']").val(),t.isActive=n.find("[name='isActive']").is(":checked"),t.edited=!0,l(A),x.hideDialog(C.dialogContainer,C.dialogShowMethod)},a.validate(i),b(a,j)}function h(t){var n=w.getSelector("dialogContainer"),r=e("../../templates/menuCreatorDialog.html"),u=$(w.renderTemplate(r)),i={errorPlacement:g};u.find("[close-dialog]").click(function(){x.hideDialog(C.dialogContainer,C.dialogShowMethod)}),n.empty().append(u);var a=n.find("form");x.showDialog(C.dialogContainer,C.dialogShowMethod),i.submitHandler=function(){var e={};e.idMenu=E(),e.name=n.find("[name='name']").val(),e.subName=n.find("[name='subName']").val(),e.title=n.find("[name='title']").val(),e.url=n.find("[name='url']").val(),e.className=n.find("[name='className']").val(),e.isActive=n.find("[name='isActive']").is(":checked"),e.isCustom=!0,e.isStock=!1,e.edited=!0,e.children=[],t?(e.idParent=t.idMenu,t.children=_.isArray(t.children)?t.children:[],t.children.push(e),e.order=t.children.length):(e.idParent=0,e.order=A.length,A.push(e)),l(A),x.hideDialog(C.dialogContainer,C.dialogShowMethod)},a.validate(i),b(a,j)}function b(e,t){$.each(t,function(t,n){var r=$.extend({},n.rules,{messages:n.messages});e.find("[name='"+t+"']").rules("add",r)})}function E(){var e,t=C.initialConsecutiveCustomMenuID;return _.each(M,function(e){e>t&&(t=e)}),e=t+1,M.push(e),e}var y={};y.init=t,y.updateMenu=o;var C,A,F=e("../service/dynamicMenu.service.js"),w=e("../service/templates.service.js"),x=e("../../../../global/utils.js"),_=e("underscore"),D=[],M=[],j={name:{rules:{required:!0},messages:{required:"Escribe el nombre del menú"}},title:{rules:{required:!0},messages:{required:"Escribe el título del menú"}},url:{rules:{required:!0},messages:{required:"Escribe la URL de la categoría / página (Por ejemplo: '/ropa/jeans')"}},className:{rules:{required:!0},messages:{required:"Escribe la clase del menú (Por ejemplo: 'contenedorRopaJeans')"}}};return y}()},{"../../../../global/utils.js":2,"../../templates/categoryTree.html":10,"../../templates/menuCreatorDialog.html":12,"../../templates/menuEditorDialog.html":13,"../service/dynamicMenu.service.js":8,"../service/templates.service.js":9,underscore:15}],6:[function(e,t,n){t.exports=function(){"use strict";function t(){console.info("Initialized module dynamicMenu in Deployer mode"),s=l.getConfiguration(),c.getSelector("menuContainer").hasClass("DynamicMenuModule")||n()}function n(){l.loadMenu().then(function(e){e=a(e),e=d.reject(e,function(e){return!e.isActive||!e.isStock&&!e.isCustom}),e=r(e),e=u(e),i(e)}).fail(function(e){console.error("Unable to load menu data",e)})}function r(e,t,n){n=d.isArray(n)?n:[],t=d.isObject(t)?t:{idMenu:0};var u=d.filter(e,function(e){return e.idParent===t.idMenu});return d.isEmpty(u)||(0===t.idMenu?n=u:t.children=u,d.each(u,function(t){r(e,t)})),n}function u(e){return d.uniq(e,!1,function(e){return e.idMenu})}function i(t){var n=e("../../templates/menu.html"),r=c.renderTemplate(n,{menus:t}),u=$(r),i=c.getSelector("menuContainer");i.hasClass("DynamicMenuModule")||(i.append(u),i.addClass("DynamicMenuModule"),$(document).trigger("DynamicMenu:menuRendered",[i,t]))}function a(e){var t=[];return e=d.map(e,function(e){return e.children=[],e}),d.filter(e,function(e){return-1===t.indexOf(e.idMenu)&&(t.push(e.idMenu),!0)})}var o={};o.init=t;var s,l=e("../service/dynamicMenu.service.js"),c=e("../service/templates.service.js"),d=e("underscore");return o}()},{"../../templates/menu.html":11,"../service/dynamicMenu.service.js":8,"../service/templates.service.js":9,underscore:15}],7:[function(e,t,n){!function(){"use strict";function t(){u.setConfiguration(a),o.validModuleConfiguration(a,s)&&(window.location.pathname===a.administratorURL?(i.setSelector("updateMenu","className",a.updateMenuButton),i.setSelector("categoryTreeContainer","className",a.categoryTreeContainer),i.setSelector("messagesContainer","className",a.messagesContainer),i.setSelector("dialogContainer","idName",a.dialogContainer),i.getSelector("updateMenu").click(r.updateMenu),r.init()):(i.setSelector("menuContainer","className",a.menuContainer),n.init()))}var n=e("./controller/dynamicMenuDeployer.controller.js"),r=e("./controller/dynamicMenuAdministrator.controller.js"),u=e("./service/dynamicMenu.service.js"),i=e("./service/templates.service.js"),a=e("../module.config.js"),o=e("../../../global/modulesUtils.js"),s=e("./../module.validations.js");$(document).ready(t)}()},{"../../../global/modulesUtils.js":1,"../module.config.js":3,"./../module.validations.js":4,"./controller/dynamicMenuAdministrator.controller.js":5,"./controller/dynamicMenuDeployer.controller.js":6,"./service/dynamicMenu.service.js":8,"./service/templates.service.js":9}],8:[function(e,t,n){t.exports=function(){"use strict";function t(e){e.treeLevel=v.isNumber(e.treeLevel)?e.treeLevel:2,e.initialConsecutiveCustomMenuID=v.isNumber(e.initialConsecutiveCustomMenuID)?e.initialConsecutiveCustomMenuID:1e4,c=e;var t=[{name:"accountName",value:c.accountName},{name:"acronym",value:c.masterDataAcronym}];g.renderResources(t)}function n(){return c}function r(e){var t=$.Deferred(),n=g.fetchResource("getCategoriesTreeByLevel",{treeLevel:e}),r=g.fetchResource("getCategoriesTreeAmount");return $.when(n,r).then(function(e,n){var r=function(e){var t=$("<a>").attr("href",e.url)[0].pathname,i=u(t,n.CategoriesTrees);e.amount=i?i.Quantity:0,e.url=t,v.isEmpty(e.children)||v.each(e.children,r)};v.each(e,r),t.resolve(e)}).fail(t.reject),t}function u(e,t){var n=void 0,r=i(e);return v.find(t,function(t){var a=i(t.Link);return r===a?(n=t,!0):(n=u(e,t.Children),v.isObject(n))}),n}function i(e){return m.removeDiacritics(e).toLowerCase()}function a(e,t){var n=void 0;return v.find(t,function(t){return e===t.id?(n=t,!0):(n=a(e,t.children),v.isObject(n))}),n}function o(e,t){var n=void 0;return v.find(t,function(t){return e===t.idMenu?(n=t,!0):(n=o(e,t.children),v.isObject(n))}),n}function s(e){var t=[];return v.each(e,function(e){var n=g.fetchResource("saveMenu",{},e);t.push(n)}),$.when.apply($,t)}function l(){return g.fetchResource("getMenu")}var c,d={setConfiguration:t,getConfiguration:n,getCategoriesTree:r,findCategoryByURL:u,findCategoryByID:a,findCategoryByMenuId:o,loadMenu:l,saveMenu:s},f={getCategoriesTreeByLevel:{type:"GET",url:"/api/catalog_system/pub/category/tree/{{treeLevel}}"},getCategoriesTreeAmount:{tyep:"GET",url:"/api/catalog_system/pub/facets/search/0?map=c"},getMenu:{type:"GET",url:"/api/dataentities/{{acronym}}/search?_sort=idMenu ASC&_fields=title,className,id,idMenu,idParent,isActive,isCustom,isStock,name,order,url,subName"},saveMenu:{type:"PUT",url:"/api/dataentities/{{acronym}}/documents",data:{title:void 0,className:void 0,id:void 0,idMenu:void 0,idParent:void 0,isActive:void 0,isCustom:void 0,isStock:void 0,name:void 0,subName:void 0,order:void 0,url:void 0}}},p=e("../../../../global/modulesUtils.js"),m=e("../../../../global/utils.js"),g=new p.ResourceHandler(f),v=e("underscore");return d}()},{"../../../../global/modulesUtils.js":1,"../../../../global/utils.js":2,underscore:15}],9:[function(e,t,n){t.exports=function(){"use strict";var t=e("underscore"),n=e("../../../../global/modulesUtils.js"),r={renderTemplate:n.renderTemplate};return t.extend(r,new n.GenericSelector),r}()},{"../../../../global/modulesUtils.js":1,underscore:15}],10:[function(e,t,n){t.exports='<div class="menuContent" data-id="0">\r\n\t<input type="button" create-button value="Crear nuevo menú">\r\n\t{{for ~sort(menus, "order")}}\r\n\t\t<div class="menu" data-id="{{:idMenu}}">\r\n\t\t\t<h3 class="header">{{:name}}</h3>\r\n\t\t\t<div class="menuContent">\r\n\t\t\t\t<input type="button" edit-button value="Editar menú">\r\n\t\t\t\t<input type="button" create-button value="Crear nuevo menú">\r\n\t\t\t\t{{for ~sort(children, "order")}}\r\n\t\t\t\t<div class="menu" data-id="{{:idMenu}}">\r\n\t\t\t\t\t<h3 class="header">{{:name}}</h3>\r\n\t\t\t\t\t<div class="menuContent">\r\n\t\t\t\t\t\t<input type="button" edit-button value="Editar">\r\n\t\t\t\t\t\t{{for ~sort(children, "order")}}\r\n\t\t\t\t\t\t<div class="menu" data-id="{{:idMenu}}">\r\n\t\t\t\t\t\t\t<h3 class="header">{{:name}}</h3>\r\n\t\t\t\t\t\t\t<div class="menuContent">\r\n\t\t\t\t\t\t\t\t<input type="button" edit-button value="Editar">\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{{/for}}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t{{/for}}\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t{{/for}}\r\n</div>'},{}],11:[function(e,t,n){
t.exports='<div class="mobile-menu">\r\n\t<div class="menuDepartments">\r\n\t\t{{for ~sort(menus, "order")}}\r\n\t\t<a href="{{:url}}" class="{{:className}}" data-submenu="{{:idMenu}}" title="{{:title}}">{{:name}}</a>\r\n\t\t{{/for}}\r\n\t</div>\r\n\t<div class="menuCategories">\r\n\t\t{{for ~sort(menus, "order")}}\r\n\t\t\t<div class="subMenuContiner {{:className}}" data-submenu="{{:idMenu}}">\r\n\t\t\t\t<div class="titleBackBtn">\r\n\t\t\t\t\t<span class="back-icon"></span>\r\n\t\t\t\t\t<a class="titleSubmenu redirect" href="{{:url}}">{{:name}}</a>\r\n\t\t\t\t</div>\r\n\t\t\t{{for ~sort(children, "order")}}\r\n\t\t\t\t<a href="{{:url}}" data-submenu="{{:idMenu}}" class="{{:className}}" title="{{:title}}">{{:name}}</a>\r\n\t\t\t{{/for}}\r\n\t\t\t</div>\r\n\t\t{{/for}}\r\n\t</div>\r\n\t<div class="menuSubCategories">\r\n\t\t{{for ~sort(menus, "order")}}\r\n\t\t\t{{for ~sort(children, "order")}}\r\n\t\t\t\t<div class="subMenuContiner subMenuTer {{:className}}" data-submenu="{{:idMenu}}">\r\n\t\t\t\t\t<div class="titleBackBtn">\r\n\t\t\t\t\t\t<span class="back-icon"></span>\r\n\t\t\t\t\t\t<a class="titleSubmenu redirect" href="{{:url}}">{{:name}}</a>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t{{for ~sort(children, "order")}}\r\n\t\t\t\t\t<a class="redirect {{:className}}" href="{{:url}}" title="{{:title}}">{{:name}}</a>\r\n\t\t\t\t{{/for}}\r\n\t\t\t\t</div>\r\n\t\t\t{{/for}}\r\n\t\t{{/for}}\r\n\t</div>\r\n</div>\r\n\r\n<div class="desktop-menu">\r\n\t<div class="menuDepartments">\r\n\t\t{{for ~sort(menus, "order")}}\r\n\t\t\t<div class="department">\r\n\t\t\t\t<a href="{{:url}}" class="redirect {{:className}}" title="{{:title}}">{{:name}}</a>\r\n\t\t\t\t<div class="menuCategories">\r\n\t\t\t\t\t<div class="subMenuContainer {{:className}}">\r\n\t\t\t\t\t\t<div class="column">\r\n\t\t\t\t\t\t\t{{for children start=0 step=3 sort="order"}}\r\n\t\t\t\t\t\t\t<div class="category">\r\n\t\t\t\t\t\t\t\t<a href="{{:url}}" class="title {{:className}}" title="{{:title}}">{{:name}}</a>\r\n\t\t\t\t\t\t\t\t{{for ~sort(children, "order")}}\r\n\t\t\t\t\t\t\t\t<a href="{{:url}}" class="{{:className}}" title="{{:title}}">{{:name}}</a>\r\n\t\t\t\t\t\t\t\t{{/for}}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{{/for}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="column">\r\n\t\t\t\t\t\t\t{{for children start=1 step=3 sort="order"}}\r\n\t\t\t\t\t\t\t<div class="category">\r\n\t\t\t\t\t\t\t\t<a href="{{:url}}" class="title {{:className}}" title="{{:title}}">{{:name}}</a>\r\n\t\t\t\t\t\t\t\t{{for ~sort(children, "order")}}\r\n\t\t\t\t\t\t\t\t<a href="{{:url}}" class="{{:className}}" title="{{:title}}">{{:name}}</a>\r\n\t\t\t\t\t\t\t\t{{/for}}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{{/for}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<div class="column">\r\n\t\t\t\t\t\t\t{{for children start=2 step=3 sort="order"}}\r\n\t\t\t\t\t\t\t<div class="category">\r\n\t\t\t\t\t\t\t\t<a href="{{:url}}" class="title {{:className}}" title="{{:title}}">{{:name}}</a>\r\n\t\t\t\t\t\t\t\t{{for ~sort(children, "order")}}\r\n\t\t\t\t\t\t\t\t<a href="{{:url}}" class="{{:className}}" title="{{:title}}">{{:name}}</a>\r\n\t\t\t\t\t\t\t\t{{/for}}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t{{/for}}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t{{/for}}\r\n\t</div>\r\n</div>'},{}],12:[function(e,t,n){t.exports='<form id="createMenuForm">\r\n\t<span close-dialog>Cerrar</span>\r\n\t<label>\r\n\t\t<b>Nombre del menú</b>\r\n\t\t<input name="name" placeholder="Nombre del menú"/>\r\n\t</label>\r\n\t<label>\r\n\t\t<b>Título del menú</b>\r\n\t\t<input name="title" placeholder="Título del menú"/>\r\n\t</label>\r\n\t<label>\r\n\t\t<b>URL de la categoría / página</b>\r\n\t\t<input name="url" placeholder="URL de la categoría / página"/>\r\n\t</label>\r\n\t<label>\r\n\t\t<b>Clase del menú</b>\r\n\t\t<input name="className" placeholder="Clase del menú"/>\r\n\t</label>\r\n\t<label>\r\n\t\t<b>¿Activo?</b>\r\n\t\t<input type="checkbox" name="isActive" />\r\n\t</label>\r\n\r\n\t<input type="submit" value="Crear"/>\r\n\t<input type="button" close-dialog value="Cancelar"/>\r\n</form>'},{}],13:[function(e,t,n){t.exports='<form id="editMenuForm">\r\n\t<span close-dialog>Cerrar</span>\r\n\t<label>\r\n\t\t<b>Nombre del menú</b>\r\n\t\t<input name="name" placeholder="Nombre del menú"/>\r\n\t</label>\r\n\t<label>\r\n\t\t<b>Título del menú</b>\r\n\t\t<input name="title" placeholder="Título del menú"/>\r\n\t</label>\r\n\t<label>\r\n\t\t<b>URL de la categoría / página</b>\r\n\t\t<input name="url" placeholder="URL de la categoría / página"/>\r\n\t</label>\r\n\t<label>\r\n\t\t<b>Clase del menú</b>\r\n\t\t<input name="className" placeholder="Clase del menú"/>\r\n\t</label>\r\n\t<label>\r\n\t\t<b>¿Activo?</b>\r\n\t\t<input type="checkbox" name="isActive" />\r\n\t</label>\r\n\r\n\t<input type="submit" value="Actualizar"/>\r\n\t<input type="button" close-dialog value="Cancelar"/>\r\n</form>'},{}],14:[function(e,t,n){!function(e,r){var u=r.jQuery;"object"==typeof n?t.exports=u?e(r,u):function(t){if(t&&!t.fn)throw"Provide jQuery or null";return e(r,t)}:"function"==typeof define&&define.amd?define(function(){return e(r)}):e(r,!1)}(function(e,t){"use strict";function n(e,t){return function(){var n,r=this,u=r.base;return r.base=e,n=t.apply(r,arguments),r.base=u,n}}function r(e,t){return ae(t)&&(t=n(e?e._d?e:n(a,e):a,t),t._d=(e&&e._d||0)+1),t}function u(e,t){var n,u=t.props;for(n in u)!$e.test(n)||e[n]&&e[n].fix||(e[n]="convert"!==n?r(e.constructor.prototype[n],u[n]):u[n])}function i(e){return e}function a(){return""}function o(e){try{throw console.log("JsRender dbg breakpoint: "+e),"dbg breakpoint"}catch(e){}return this.base?this.baseApply(arguments):e}function s(e){this.name=(t.link?"JsViews":"JsRender")+" Error",this.message=e||this.name}function l(e,t){if(e){for(var n in t)e[n]=t[n];return e}}function c(e,t,n){return e?oe(e)?c.apply(ue,e):(pe.delimiters=[e,t,ye=n?n.charAt(0):ye],ve=e.charAt(0),he=e.charAt(1),be=t.charAt(0),Ee=t.charAt(1),e="\\"+ve+"(\\"+ye+")?\\"+he,t="\\"+be+"\\"+Ee,ne="(?:(\\w+(?=[\\/\\s\\"+be+"]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^\\"+be+"]|\\"+be+"(?!\\"+Ee+"))*?)",fe.rTag="(?:"+ne+")",ne=new RegExp("(?:"+e+ne+"(\\/)?|\\"+ve+"(\\"+ye+")?\\"+he+"(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))"+t,"g"),fe.rTmpl=new RegExp("^\\s|\\s$|<.*>|([^\\\\]|^)[{}]|"+e+".*"+t),ge):pe.delimiters}function d(e,t){t||!0===e||(t=e,e=void 0);var n,r,u,i,a=this,o=!t||"root"===t;if(e){if(!(i=t&&a.type===t&&a))if(n=a.views,a._.useKey){for(r in n)if(i=t?n[r].get(e,t):n[r])break}else for(r=0,u=n.length;!i&&r<u;r++)i=t?n[r].get(e,t):n[r]}else if(o)i=a.root;else for(;a&&!i;)i=a.type===t?a:void 0,a=a.parent;return i}function f(){var e=this.get("item");return e?e.index:void 0}function p(){return this.index}function m(e,t,n,r){var u,i,o,s=0;if(1===n&&(r=1,n=void 0),t)for(i=t.split("."),o=i.length;e&&s<o;s++)u=e,e=i[s]?e[i[s]]:e;return n&&(n.lt=n.lt||s<o),void 0===e?r?a:"":r?function(){return e.apply(u,arguments)}:e}function g(n,r,u){var i,a,o,s,c,d,f,p=this,m=!Ae&&arguments.length>1,g=p.ctx;if(n){if(p._||(c=p.index,p=p.tag),d=p,g&&g.hasOwnProperty(n)||(g=ce).hasOwnProperty(n)){if(o=g[n],"tag"===n||"tagCtx"===n||"root"===n||"parentTags"===n||p._.it===n)return o}else g=void 0;if((p.tagCtx||p.linked)&&(o&&o._cxp||(p=p.tagCtx||ae(o)?p:(p=p.scope||p,!p.isTop&&p.ctx.tag||p),void 0!==o&&p.tagCtx&&(p=p.tagCtx.view.scope),g=p._ocps,(o=g&&g.hasOwnProperty(n)&&g[n]||o)&&o._cxp||!u&&!m||((g||(p._ocps=p._ocps||{}))[n]=o=[{_ocp:o,_vw:d,_key:n}],o._cxp={path:we,ind:0,updateValue:function(e,n){return t.observable(o[0]).setProperty(we,e),this}})),s=o&&o._cxp)){if(arguments.length>2)return a=o[1]?fe._ceo(o[1].deps):[we],a.unshift(o[0]),a._cxp=s,a;if(c=s.tagElse,f=o[1]?s.tag&&s.tag.cvtArgs?s.tag.cvtArgs(1,c)[s.ind]:o[1](o[0].data,o[0],fe):o[0]._ocp,m)return o&&f!==r&&fe._ucp(n,r,p,s),p;o=f}return o&&ae(o)&&(i=function(){return o.apply(this&&this!==e?this:d,arguments)},l(i,o),i._vw=d),i||o}}function v(e){return e&&(e.fn?e:this.getRsc("templates",e)||se(e))}function h(e,t,n,r){var i,a,o,s,c="number"==typeof n&&t.tmpl.bnds[n-1],d=t.linkCtx;if(void 0===r&&c&&c._lr&&(r=""),void 0!==r?n=r={props:{},args:[r]}:c&&(n=c(t.data,t,fe)),c=c._bd&&c,e||c){if(i=d&&d.tag,n.view=t,!i){if(i=l(new fe._tg,{_:{bnd:c,unlinked:!0,lt:n.lt},inline:!d,tagName:":",convert:e,flow:!0,tagCtx:n,tagCtxs:[n],_is:"tag"}),(o=n.args.length)>1)for(s=i.bindTo=[];o--;)s.unshift(o);d&&(d.tag=i,i.linkCtx=d),n.ctx=H(n.ctx,(d?d.view:t).ctx),u(i,n)}i._er=r&&a,i.ctx=n.ctx||i.ctx||{},n.ctx=void 0,a=i.cvtArgs()[0],i._er=r&&a}else a=n.args[0];return a=c&&t._.onRender?t._.onRender(a,t,i):a,void 0!=a?a:""}function b(e,t){var n,r,u,i,a,o,s,l=this;if(l.tagName?(o=l,l=o.tagCtxs?o.tagCtxs[t||0]:o.tagCtx):o=l.tag,a=o.bindFrom,i=l.args,(s=o.convert)&&""+s===s&&(s="true"===s?void 0:l.view.getRsc("converters",s)||R("Unknown converter: '"+s+"'")),s&&!e&&(i=i.slice()),a){for(u=[],n=a.length;n--;)r=a[n],u.unshift(E(l,r));e&&(i=u)}if(s){if(void 0===(s=s.apply(o,u||i)))return i;if(a=a||[0],n=a.length,oe(s)&&s.length===n||(s=[s],a=[0],n=1),e)i=s;else for(;n--;)+(r=a[n])===r&&(i[r]=s[n])}return i}function E(e,t){return(e=e[+t===t?"args":"props"])&&e[t]}function y(e){return this.cvtArgs(1,e)}function C(e,t){var n,r,u=this;if(""+t===t){for(;void 0===n&&u;)r=u.tmpl&&u.tmpl[e],n=r&&r[t],u=u.parent;return n||ue[e][t]}}function A(e,t,n,r,i,a){function o(e){var t=s[e];if(void 0!==t)for(t=oe(t)?t:[t],m=t.length;m--;)q=t[m],isNaN(parseInt(q))||(t[m]=parseInt(q));return t||[0]}t=t||re;var s,l,c,d,f,p,m,v,h,C,A,F,w,x,_,D,M,j,k,N,B,S,O,I,q,U,P,L,z,V=0,J="",K=t.linkCtx||0,Q=t.ctx,Z=n||t.tmpl,G="number"==typeof r&&t.tmpl.bnds[r-1];for("tag"===e._is?(s=e,e=s.tagName,r=s.tagCtxs,s.template):(l=t.getRsc("tags",e)||R("Unknown tag: {{"+e+"}} "),l.template),void 0===a&&G&&(G._lr=l.lateRender&&!1!==G._lr||G._lr)&&(a=""),void 0!==a?(J+=a,r=a=[{props:{},args:[],params:{props:{}}}]):G&&(r=G(t.data,t,fe)),p=r.length;V<p;V++)C=r[V],D=C.tmpl,(!K||!K.tag||V&&!K.tag.inline||s._er||D&&+D===D)&&(D&&Z.tmpls&&(C.tmpl=C.content=Z.tmpls[D-1]),C.index=V,C.ctxPrm=g,C.render=T,C.cvtArgs=b,C.bndArgs=y,C.view=t,C.ctx=H(H(C.ctx,l&&l.ctx),Q)),(n=C.props.tmpl)&&(C.tmpl=t.getTmpl(n),C.content=C.content||C.tmpl),s?K&&K.fn._lr&&(M=!!s.init):(s=new l._ctr,M=!!s.init,s.parent=f=Q&&Q.tag,s.tagCtxs=r,K&&(s.inline=!1,K.tag=s,s.linkCtx=K),(s._.bnd=G||K.fn)?(s._.ths=C.params.props.this,s._.lt=r.lt,s._.arrVws={}):s.dataBoundOnly&&R(e+" must be data-bound:\n{^{"+e+"}}")),O=s.dataMap,C.tag=s,O&&r&&(C.map=r[V].map),s.flow||(A=C.ctx=C.ctx||{},c=s.parents=A.parentTags=Q&&H(A.parentTags,Q.parentTags)||{},f&&(c[f.tagName]=f),c[s.tagName]=A.tag=s,A.tagCtx=C);if(!(s._er=a)){for(u(s,r[0]),s.rendering={rndr:s.rendering},V=0;V<p;V++){if(C=s.tagCtx=r[V],S=C.props,s.ctx=C.ctx,!V){if(M&&(s.init(C,K,s.ctx),M=void 0),C.args.length||!1===C.argDefault||!1===s.argDefault||(C.args=N=[C.view.data],C.params.args=["#data"]),w=o("bindTo"),void 0!==s.bindTo&&(s.bindTo=w),void 0!==s.bindFrom?s.bindFrom=o("bindFrom"):s.bindTo&&(s.bindFrom=s.bindTo=w),x=s.bindFrom||w,P=w.length,U=x.length,s._.bnd&&(L=s.linkedElement)&&(s.linkedElement=L=oe(L)?L:[L],P!==L.length&&R("linkedElement not same length as bindTo")),(L=s.linkedCtxParam)&&(s.linkedCtxParam=L=oe(L)?L:[L],U!==L.length&&R("linkedCtxParam not same length as bindFrom/bindTo")),x)for(s._.fromIndex={},s._.toIndex={},v=U;v--;)for(q=x[v],m=P;m--;)q===w[m]&&(s._.fromIndex[m]=v,s._.toIndex[v]=m);K&&(K.attr=s.attr=K.attr||s.attr||K._dfAt),d=s.attr,s._.noVws=d&&d!==Ve}if(N=s.cvtArgs(void 0,V),s.linkedCtxParam)for(B=s.cvtArgs(1,V),m=U,z=s.constructor.prototype.ctx;m--;)(F=s.linkedCtxParam[m])&&(q=x[m],_=B[m],C.ctx[F]=fe._cp(z&&void 0===_?z[F]:_,void 0!==_&&E(C.params,q),C.view,s._.bnd&&{tag:s,cvt:s.convert,ind:m,tagElse:V}));(j=S.dataMap||O)&&(N.length||S.dataMap)&&(k=C.map,k&&k.src===N[0]&&!i||(k&&k.src&&k.unmap(),j.map(N[0],C,k,!s._.bnd),k=C.map),N=[k.tgt]),h=void 0,s.render&&(h=s.render.apply(s,N),t.linked&&h&&!Oe.test(h)&&(n={links:[]},n.render=n.fn=function(){return h},h=$(n,t.data,void 0,!0,t,void 0,void 0,s))),N.length||(N=[t]),void 0===h&&(I=N[0],s.contentCtx&&(I=!0===s.contentCtx?t:s.contentCtx(I)),h=C.render(I,!0)||(i?void 0:"")),J=J?J+(h||""):h}s.rendering=s.rendering.rndr}return s.tagCtx=r[0],s.ctx=s.tagCtx.ctx,s._.noVws&&s.inline&&(J="text"===d?le.html(J):""),G&&t._.onRender?t._.onRender(J,t,s):J}function F(e,t,n,r,u,i,a,o){var s,l,c,d=this,p="array"===t;d.content=o,d.views=p?[]:{},d.data=r,d.tmpl=u,c=d._={key:0,useKey:p?0:1,id:""+Pe++,onRender:a,bnds:{}},d.linked=!!a,d.type=t||"top",(d.parent=n)?(d.root=n.root||d,s=n.views,l=n._,d.isTop=l.scp,d.scope=(!e.tag||e.tag===n.ctx.tag)&&!d.isTop&&n.scope||d,l.useKey?(s[c.key="_"+l.useKey++]=d,d.index=Qe,d.getIndex=f):s.length===(c.key=d.index=i)?s.push(d):s.splice(i,0,d),d.ctx=e||n.ctx):d.ctx=e||{}}function w(e){var t,n,r;for(t in Ye)n=t+"s",e[n]&&(r=e[n],e[n]={},ue[n](r,e))}function x(e,t,n){function u(){var t=this;t._={unlinked:!0},t.inline=!0,t.tagName=e}var i,a,o,s=new fe._tg;if(ae(t)?t={depends:t.depends,render:t}:""+t===t&&(t={template:t}),a=t.baseTag){t.flow=!!t.flow,a=""+a===a?n&&n.tags[a]||de[a]:a,a||R('baseTag: "'+t.baseTag+'" not found'),s=l(s,a);for(o in t)s[o]=r(a[o],t[o])}else s=l(s,t);return void 0!==(i=s.template)&&(s.template=""+i===i?se[i]||se(i):i),(u.prototype=s).constructor=s._ctr=u,n&&(s._parentTmpl=n),s}function _(e){return this.base.apply(this,e)}function D(e,n,r,u){function i(n){var i,o;if(""+n===n||n.nodeType>0&&(a=n)){if(!a)if(/^\.\/[^\\:*?"<>]*$/.test(n))(o=se[e=e||n])?n=o:a=document.getElementById(n);else if(t.fn&&!fe.rTmpl.test(n))try{a=t(n,document)[0]}catch(e){}a&&("SCRIPT"!==a.tagName&&R(n+": Use script block, not "+a.tagName),u?n=a.innerHTML:(i=a.getAttribute(Je),i&&(i!==Ke?(n=se[i],delete se[i]):t.fn&&(n=t.data(a)[Ke])),i&&n||(e=e||(t.fn?Ke:n),n=D(e,a.innerHTML,r,u)),n.tmplName=e=e||i,e!==Ke&&(se[e]=n),a.setAttribute(Je,e),t.fn&&t.data(a,Ke,n))),a=void 0}else n.fn||(n=void 0);return n}var a,o,s=n=n||"";if(fe._html=le.html,0===u&&(u=void 0,s=i(s)),u=u||(n.markup?n.bnds?l({},n):n:{}),u.tmplName=u.tmplName||e||"unnamed",r&&(u._parentTmpl=r),!s&&n.markup&&(s=i(n.markup))&&s.fn&&(s=s.markup),void 0!==s)return s.render||n.render?s.tmpls&&(o=s):(n=N(s,u),q(s.replace(je,"\\$&"),n)),o||(o=l(function(){return o.render.apply(o,arguments)},n),w(o)),o}function M(e,t){return ae(e)?e.call(t):e}function j(e){for(var t=[],n=0,r=e.length;n<r;n++)t.push(e[n].unmap());return t}function k(e,n){function r(e){c.apply(this,e)}function u(){return new r(arguments)}function i(e,t){for(var n,r,u,i,a=0;a<b;a++)u=f[a],n=void 0,u+""!==u&&(n=u,u=n.getter),void 0===(i=e[u])&&n&&void 0!==(r=n.defaultVal)&&(i=M(r,e)),t(i,n&&d[n.type],u)}function a(t){t=t+""===t?JSON.parse(t):t;var n,r,u=0,a=t,l=[];if(oe(t)){for(t=t||[],n=t.length;u<n;u++)l.push(this.map(t[u]));return l._is=e,l.unmap=s,l.merge=o,l}if(t){i(t,function(e,t){t&&(e=t.map(e)),l.push(e)}),a=this.apply(this,l);for(r in t)r===ie||y[r]||(a[r]=t[r])}return a}function o(e){e=e+""===e?JSON.parse(e):e;var t,n,r,a,o,s,l,c,d,f=0,p=this;if(oe(p)){for(l={},d=[],n=e.length,r=p.length;f<n;f++){for(c=e[f],s=!1,t=0;t<r&&!s;t++)l[t]||(o=p[t],m&&(l[t]=s=m+""===m?c[m]&&(y[m]?o[m]():o[m])===c[m]:m(o,c)));s?(o.merge(c),d.push(o)):d.push(u.map(c))}return void(E?E(p).refresh(d,!0):p.splice.apply(p,[0,p.length].concat(d)))}i(e,function(e,t,n){t?p[n]().merge(e):p[n](e)});for(a in e)a===ie||y[a]||(p[a]=e[a])}function s(){var e,t,n,r,u=0,i=this;if(oe(i))return j(i);for(e={};u<b;u++)t=f[u],n=void 0,t+""!==t&&(n=t,t=n.getter),r=i[t](),e[t]=n&&r&&d[n.type]?oe(r)?j(r):r.unmap():r;for(t in i)"_is"===t||y[t]||t===ie||"_"===t.charAt(0)&&y[t.slice(1)]||ae(i[t])||(e[t]=i[t]);return e}var l,c,d=this,f=n.getters,p=n.extend,m=n.id,g=t.extend({_is:e||"unnamed",unmap:s,merge:o},p),v="",h="",b=f?f.length:0,E=t.observable,y={};for(r.prototype=g,l=0;l<b;l++)!function(e){e=e.getter||e,y[e]=l+1;var t="_"+e;v+=(v?",":"")+e,h+="this."+t+" = "+e+";\n",g[e]=g[e]||function(n){if(!arguments.length)return this[t];E?E(this).setProperty(e,n):this[t]=n},E&&(g[e].set=g[e].set||function(e){this[t]=e})}(f[l]);return c=new Function(v,h.slice(0,-1)),c.prototype=g,g.constructor=c,u.map=a,u.getters=f,u.extend=p,u.id=m,u}function N(e,n){var r,u=me._wm||{},i={tmpls:[],links:{},bnds:[],_is:"template",render:T};return n&&(i=l(i,n)),i.markup=e,i.htmlTag||(r=Be.exec(e),i.htmlTag=r?r[1].toLowerCase():""),r=u[i.htmlTag],r&&r!==u.div&&(i.markup=t.trim(i.markup)),i}function B(e){ge[e]=function(t){return arguments.length?(pe[e]=t,ge):pe[e]}}function S(e){function t(t,n){this.tgt=e.getTgt(t,n),n.map=this}return ae(e)&&(e={getTgt:e}),e.baseMap&&(e=l(l({},e.baseMap),e)),e.map=function(e,n){return new t(e,n)},e}function T(e,t,n,r,u,i){var a,o,s,l,c,d,f,p,m=r,g="";if(!0===t?(n=t,t=void 0):typeof t!==He&&(t=void 0),(s=this.tag)?(c=this,m=m||c.view,l=m.getTmpl(s.template||c.tmpl),arguments.length||(e=s.contentCtx&&ae(s.contentCtx)?e=s.contentCtx(e):m)):l=this,l){if(!r&&e&&"view"===e._is&&(m=e),m&&e===m&&(e=m.data),d=!m,Ae=Ae||d,m||((t=t||{}).root=e),!Ae||me.useViews||l.useViews||m&&m!==re)g=$(l,e,t,n,m,u,i,s);else{if(m?(f=m.data,p=m.index,m.index=Qe):(m=re,f=m.data,m.data=e,m.ctx=t),oe(e)&&!n)for(a=0,o=e.length;a<o;a++)m.index=a,m.data=e[a],g+=l.fn(e[a],m,fe);else m.data=e,g+=l.fn(e,m,fe);m.data=f,m.index=p}d&&(Ae=void 0)}return g}function $(e,t,n,r,u,i,a,o){function s(e){y=l({},n),y[E]=e}var c,d,f,p,m,g,v,h,b,E,y,C,A,w="";if(o&&(b=o.tagName,C=o.tagCtx,n=n?H(n,o.ctx):o.ctx,e===u.content?v=e!==u.ctx._wrp?u.ctx._wrp:void 0:e!==C.content?e===o.template?(v=C.tmpl,n._wrp=C.content):v=C.content||u.content:v=u.content,!1===C.props.link&&(n=n||{},n.link=!1),(E=C.props.itemVar)&&("~"!==E.charAt(0)&&I("Use itemVar='~myItem'"),E=E.slice(1))),u&&(a=a||u._.onRender,A=n&&!1===n.link,A&&u._.nl&&(a=void 0),n=H(n,u.ctx)),!0===i&&(g=!0,i=0),a&&o&&o._.noVws&&(a=void 0),h=a,!0===a&&(h=void 0,a=u._.onRender),n=e.helpers?H(e.helpers,n):n,y=n,oe(t)&&!r)for(f=g?u:void 0!==i&&u||new F(n,"array",u,t,e,i,a,v),f._.nl=A,u&&u._.useKey&&(f._.bnd=!o||o._.bnd&&o,f.tag=o),c=0,d=t.length;c<d;c++)E&&s(t[c]),p=new F(y,"item",f,t[c],e,(i||0)+c,a,f.content),p._.it=E,m=e.fn(t[c],p,fe),w+=f._.onRender?f._.onRender(m,p):m;else E&&s(t),f=g?u:new F(y,b||"data",u,t,e,i,a,v),f._.it=E,f.tag=o,f._.nl=A,w+=e.fn(t,f,fe);return o&&(f.tagElse=C.index,C.contentView=f),h?h(w,f):w}function O(e,t,n){var r=void 0!==n?ae(n)?n.call(t.data,e,t):n||"":"{Error: "+(e.message||e)+"}";return pe.onError&&void 0!==(n=pe.onError.call(t.data,e,n&&r,t))&&(r=n),t&&!t.linkCtx?le.html(r):r}function R(e){throw new fe.Err(e)}function I(e){R("Syntax error\n"+e)}function q(e,t,n,r,u){function i(t){(t-=g)&&h.push(e.substr(g,t).replace(De,"\\n"))}function a(t,n){t&&(t+="}}",I((n?"{{"+n+"}} block has {{/"+t+" without {{"+t:"Unmatched or missing {{/"+t)+", in template:\n"+e))}function o(o,s,l,f,m,E,y,C,A,F,w,x){(y&&s||A&&!l||C&&":"===C.slice(-1)||F)&&I(o),E&&(m=":",f=Ve),A=A||n&&!u;var _,D,M,j=(s||n)&&[[]],k="",N="",B="",S="",T="",$="",O="",R="",q=!A&&!m;l=l||(C=C||"#data",m),i(x),g=x+o.length,y?p&&h.push(["*","\n"+C.replace(/^:/,"ret+= ").replace(Me,"$1")+";\n"]):l?("else"===l&&(Ne.test(C)&&I('For "{{else if expr}}" use "{{else expr}}"'),j=b[9]&&[[]],b[10]=e.substring(b[10],x),D=b[11]||b[0]||I("Mismatched: "+o),b=v.pop(),h=b[2],q=!0),C&&z(C.replace(De," "),j,t,n).replace(ke,function(e,t,n,r,u,i,a,o){return"this:"===r&&(i="undefined"),o&&(M=M||"@"===o.charAt(0)),r="'"+u+"':",a?(N+=n+i+",",S+="'"+o+"',"):n?(B+=r+"j._cp("+i+',"'+o+'",view),',$+=r+"'"+o+"',"):t?O+=i:("trigger"===u&&(R+=i),"lateRender"===u&&(_="false"!==o),k+=r+i+",",T+=r+"'"+o+"',",d=d||$e.test(u)),""}).slice(0,-1),j&&j[0]&&j.pop(),c=[l,f||!!r||d||"",q&&[],P(S||(":"===l?"'#data',":""),T,$),P(N||(":"===l?"data,":""),k,B),O,R,_,M,j||0],h.push(c),q&&(v.push(b),b=c,b[10]=g,b[11]=D)):w&&(a(w!==b[0]&&w!==b[11]&&w,b[0]),b[10]=e.substring(b[10],x),b=v.pop()),a(!b&&w),h=b[2]}var s,l,c,d,f,p=pe.allowCode||t&&t.allowCode||!0===ge.allowCode,m=[],g=0,v=[],h=m,b=[,,m];if(p&&t._is&&(t.allowCode=p),n&&(void 0!==r&&(e=e.slice(0,-r.length-2)+be),e=ve+e+Ee),a(v[0]&&v[0][2].pop()[0]),e.replace(ne,o),i(e.length),(g=m[m.length-1])&&a(""+g!==g&&+g[10]===g[10]&&g[0]),n){for(l=V(m,e,n),f=[],s=m.length;s--;)f.unshift(m[s][9]);U(l,f)}else l=V(m,t);return l}function U(e,t){var n,r,u=0,i=t.length;for(e.deps=[],e.paths=[];u<i;u++){e.paths.push(r=t[u]);for(n in r)"_jsvto"!==n&&r.hasOwnProperty(n)&&r[n].length&&!r[n].skp&&(e.deps=e.deps.concat(r[n]))}}function P(e,t,n){return[e.slice(0,-1),t.slice(0,-1),n.slice(0,-1)]}function L(e,t){return"\n\t"+(t?t+":{":"")+"args:["+e[0]+"],\n\tprops:{"+e[1]+"}"+(e[2]?",\n\tctx:{"+e[2]+"}":"")}function z(e,t,n,r){function u(u,c,E,y,C,A,F,w,x,_,D,M,j,k,N,B,S,T,$,O,R){function U(e,n,u,o,s,l,c,p){var m="."===u;if(u&&(C=C.slice(n.length),/^\.?constructor$/.test(p||C)&&I(e),m||(e=(_?(r?"":"(ltOb.lt=ltOb.lt||")+"(ob=":"")+(o?'view.ctxPrm("'+o+'")':s?"view":"data")+(_?")===undefined"+(r?"":")")+'?"":view.getOb(ob,"':"")+(p?(l?"."+l:o?"":s?"":"."+u)+(c||""):(p=o?"":s?l||"":u,"")),e+=p?"."+p:"",e=n+("view.data"===e.slice(0,9)?e.slice(5):e)+(_?(r?'"':'",ltOb')+(D?",1)":")"):"")),d)){if(z="_linkTo"===i?a=t._jsvto=t._jsvto||[]:f.bd,V=m&&z[z.length-1]){if(V._cpfn){for(;V.sb;)V=V.sb;V.bnd&&(C="^"+C.slice(1)),V.sb=C,V.bnd=V.bnd||"^"===C.charAt(0)}}else z.push(C);b[v]=O+(m?1:0)}return e}y&&!w&&(C=y+C),A=A||"",E=E||c||j,C=C||x,_&&(_=!/\)|]/.test(R.charAt(O-1)))&&(C=C.slice(1).split(".").join("^")),D=D||T||"";var P,L,z,V,H,J=")";if("["===D&&(D="[j._sq(",J=")]"),!F||l||s){if(d&&S&&!l&&!s&&v&&(!i||o||a)&&(P=b[v-1],R.length-1>O-(P||0))){if(P=R.slice(P,O+u.length),!0!==L)if(z=a||p[v-1].bd,(V=z[z.length-1])&&V.prm){for(;V.sb&&V.sb.prm;)V=V.sb;H=V.sb={path:V.sb,bnd:V.bnd}}else z.push(H={path:z.pop()});S=he+":"+P+" onerror=''"+be,L=g[S],L||(g[S]=!0,g[S]=L=q(S,n,!0)),!0!==L&&H&&(H._cpfn=L,H.prm=f.bd,H.bnd=H.bnd||H.path&&H.path.indexOf("^")>=0)}return l?(l=!k,l?u:j+'"'):s?(s=!N,s?u:j+'"'):(E?(b[v]=O++,f=p[++v]={bd:[]},E):"")+($?v?"":(m=R.slice(m,O),(i?(i=o=a=!1,"\b"):"\b,")+m+(m=O+u.length,d&&t.push(f.bd=[]),"\b")):w?(v&&I(e),d&&t.pop(),i="_"+C,o=y,m=O+u.length,d&&(d=f.bd=t[i]=[],d.skp=!y),C+":"):C?C.split("^").join(".").replace(xe,U)+(D?(f=p[++v]={bd:[]},h[v]=J,D):A):A||(B?(B=h[v]||B,h[v]=!1,f=p[--v],B+(D?(f=p[++v],h[v]=J,D):"")):M?(h[v]||I(e),","):c?"":(l=k,s=N,'"')))}I(e)}var i,a,o,s,l,c,d=t&&t[0],f={bd:d},p={0:f},m=0,g=(n?n.links:d&&(d.links=d.links||{}))||re.tmpl.links,v=0,h={},b={};return"@"===e.charAt(0)&&(e=e.replace(Ue,".")),c=(e+(n?" ":"")).replace(_e,u),!v&&c||I(e)}function V(e,t,n){var r,u,i,a,o,s,l,c,d,f,p,m,g,v,h,b,E,y,C,A,F,w,x,_,D,M,j,k,B,S,T,$,O=0,R=me.useViews||t.useViews||t.tags||t.templates||t.helpers||t.converters,q="",P={},z=e.length;for(""+t===t?(E=n?'data-link="'+t.replace(De," ").slice(1,-1)+'"':t,t=0):(E=t.tmplName||"unnamed",t.allowCode&&(P.allowCode=!0),t.debug&&(P.debug=!0),f=t.bnds,b=t.tmpls),r=0;r<z;r++)if(""+(u=e[r])===u)q+='\n+"'+u+'"';else if("*"===(i=u[0]))q+=";\n"+u[1]+"\nret=ret";else{if(a=u[1],A=!n&&u[2],o=L(u[3],"params")+"},"+L(m=u[4]),B=u[6],S=u[7],u[8]?(T="\nvar ob,ltOb={},ctxs=",$=";\nctxs.lt=ltOb.lt;\nreturn ctxs;"):(T="\nreturn ",$=""),F=u[10]&&u[10].replace(Me,"$1"),(_="else"===i)?p&&p.push(u[9]):(j=u[5]||!1!==pe.debugMode&&"undefined",f&&(p=u[9])&&(p=[p],O=f.push(1))),R=R||m[1]||m[2]||p||/view.(?!index)/.test(m[0]),(D=":"===i)?a&&(i=a===Ve?">":a+i):(A&&(y=N(F,P),y.tmplName=E+"/"+i,y.useViews=y.useViews||R,V(A,y),R=y.useViews,b.push(y)),_||(C=i,R=R||i&&(!de[i]||!de[i].flow),x=q,q=""),w=e[r+1],w=w&&"else"===w[0]),k=j?";\ntry{\nret+=":"\n+",g="",v="",D&&(p||B||a&&a!==Ve||S)){if(M=new Function("data,view,j,u","// "+E+" "+ ++O+" "+i+T+"{"+o+"};"+$),M._er=j,M._tag=i,M._bd=!!p,M._lr=S,n)return M;U(M,p),h='c("'+a+'",view,',d=!0,g=h+O+",",v=")"}if(q+=D?(n?(j?"try{\n":"")+"return ":k)+(d?(d=void 0,R=c=!0,h+(M?(f[O-1]=M,O):"{"+o+"}")+")"):">"===i?(l=!0,"h("+m[0]+")"):(!0,"((v="+m[0]+")!=null?v:"+(n?"null)":'"")'))):(s=!0,"\n{view:view,tmpl:"+(A?b.length:"0")+","+o+"},"),C&&!w){if(q="["+q.slice(0,-1)+"]",h='t("'+C+'",view,this,',n||p){if(q=new Function("data,view,j,u"," // "+E+" "+O+" "+C+T+q+$),q._er=j,q._tag=C,p&&U(f[O-1]=q,p),q._lr=S,n)return q;g=h+O+",undefined,",v=")"}q=x+k+h+(p&&O||q)+")",p=0,C=0}j&&!w&&(R=!0,q+=";\n}catch(e){ret"+(n?"urn ":"+=")+g+"j._err(e,view,"+j+")"+v+";}"+(n?"":"ret=ret"))}q="// "+E+(P.debug?"\ndebugger;":"")+"\nvar v"+(s?",t=j._tag":"")+(c?",c=j._cnvt":"")+(l?",h=j._html":"")+(n?(u[8]?", ob":"")+";\n":',ret=""')+q+(n?"\n":";\nreturn ret;");try{q=new Function("data,view,j,u",q)}catch(e){I("Compiled template code:\n\n"+q+'\n: "'+(e.message||e)+'"')}return t&&(t.fn=q,t.useViews=!!R),q}function H(e,t){return e&&e!==t?t?l(l({},t),e):e:t&&l({},t)}function J(e,n){var r,u,i=[];if(typeof e===He||ae(e))for(r in e)u=e[r],r===ie||!e.hasOwnProperty(r)||n.props.noFunctions&&t.isFunction(u)||i.push({key:r,prop:u});return K(i,n)}function K(e,n){var r,u,i,a=n.tag,o=n.props,s=n.params.props,l=o.filter,c=o.sort,d=!0===c,f=parseInt(o.step),p=o.reverse?-1:1;if(!oe(e))return e;if(d||c&&""+c===c?(r=e.map(function(e,t){return e=d?e:m(e,c),{i:t,v:""+e===e?e.toLowerCase():e}}),r.sort(function(e,t){return e.v>t.v?p:e.v<t.v?-p:0}),e=r.map(function(t){return e[t.i]})):(c||p<0)&&!a.dataMap&&(e=e.slice()),ae(c)&&(e=e.sort(c)),p<0&&!c&&(e=e.reverse()),e.filter&&l&&(e=e.filter(l,n),n.tag.onFilter&&n.tag.onFilter(n)),s.sorted&&(r=c||p<0?e:e.slice(),a.sorted?t.observable(a.sorted).refresh(r):n.map.sorted=r),u=o.start,i=o.end,(s.start&&void 0===u||s.end&&void 0===i)&&(u=i=0),isNaN(u)&&isNaN(i)||(u=+u||0,i=void 0===i||i>e.length?e.length:+i,e=e.slice(u,i)),f>1){for(u=0,i=e.length,r=[];u<i;u+=f)r.push(e[u]);e=r}return s.paged&&a.paged&&$observable(a.paged).refresh(e),e}function Q(e,n,r){var u=this.jquery&&(this[0]||R("Unknown template")),i=u.getAttribute(Je);return T.call(i&&t.data(u)[Ke]||se(u),e,n,r)}function Z(e){return Le[e]||(Le[e]="&#"+e.charCodeAt(0)+";")}function G(e,t){return ze[t]||""}function W(e){return void 0!=e?Te.test(e)&&(""+e).replace(Re,Z)||e:""}function Y(e){return""+e===e?e.replace(Ie,Z):e}function X(e){return""+e===e?e.replace(qe,G):e}var ee=!1===t;t=t&&t.fn?t:e.jQuery;var te,ne,re,ue,ie,ae,oe,se,le,ce,de,fe,pe,me,ge,ve,he,be,Ee,ye,Ce,Ae,Fe="v0.9.91",we="_ocp",xe=/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,_e=/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(~?[\w$.^]+)?\s*((\+\+|--)|\+|-|~(?![\w$_])|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?(@)?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,De=/[ \t]*(\r\n|\n|\r)/g,Me=/\\(['"])/g,je=/['"\\]/g,ke=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$_\.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,Ne=/^if\s/,Be=/<(\w+)[>\s]/,Se=/[\x00`><"'&=]/g,Te=/[\x00`><\"'&=]/,$e=/^on[A-Z]|^convert(Back)?$/,Oe=/^\#\d+_`[\s\S]*\/\d+_`$/,Re=Se,Ie=/[&<>]/g,qe=/&(amp|gt|lt);/g,Ue=/\[['"]?|['"]?\]/g,Pe=0,Le={"&":"&amp;","<":"&lt;",">":"&gt;","\0":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;","=":"&#61;"},ze={amp:"&",gt:">",lt:"<"},Ve="html",He="object",Je="data-jsv-tmpl",Ke="jsvTmpl",Qe="For #index in nested block use #getIndex().",Ze={},Ge=e.jsrender,We=Ge&&t&&!t.render,Ye={template:{compile:D},tag:{compile:x},viewModel:{compile:k},helper:{},converter:{}};if(ue={jsviews:Fe,sub:{View:F,Err:s,tmplFn:q,parse:z,extend:l,extendCtx:H,syntaxErr:I,onStore:{template:function(e,t){null===t?delete Ze[e]:Ze[e]=t}},addSetting:B,settings:{allowCode:!1},advSet:a,_thp:u,_gm:r,_tg:function(){},_cnvt:h,_tag:A,_er:R,_err:O,_cp:i,_sq:function(e){return"constructor"===e&&I(""),e}},settings:{delimiters:c,advanced:function(e){return e?(l(me,e),fe.advSet(),ge):me}},map:S},(s.prototype=new Error).constructor=s,f.depends=function(){return[this.get("item"),"index"]},p.depends="index",F.prototype={get:d,getIndex:p,getRsc:C,getTmpl:v,ctxPrm:g,getOb:m,_is:"view"},fe=ue.sub,ge=ue.settings,!(Ge||t&&t.render)){for(te in Ye)!function(e,t){function n(u,i,a){var o,s,l,c=fe.onStore[e];if(u&&typeof u===He&&!u.nodeType&&!u.markup&&!u.getTgt&&!("viewModel"===e&&u.getters||u.extend)){for(s in u)n(s,u[s],i);return i||ue}return void 0===i&&(i=u,u=void 0),u&&""+u!==u&&(a=i,i=u,u=void 0),l=a?"viewModel"===e?a:a[r]=a[r]||{}:n,o=t.compile,null===i?u&&delete l[u]:(o&&(i=o.call(l,u,i,a,0)||{},i._is=e),u&&(l[u]=i)),c&&c(u,i,a,o),i}var r=e+"s";ue[r]=n}(te,Ye[te]);if(le=ue.converters,ce=ue.helpers,de=ue.tags,fe._tg.prototype={baseApply:_,cvtArgs:b,bndArgs:y,ctxPrm:g},re=fe.topView=new F,t){if(t.fn.render=Q,ie=t.expando,t.observable){if(Fe!==(Fe=t.views.jsviews))throw"JsObservable requires JsRender "+Fe;l(fe,t.views.sub),ue.map=t.views.map}}else t={},ee&&(e.jsrender=t),t.renderFile=t.__express=t.compile=function(){throw"Node.js: use npm jsrender, or jsrender-node.js"},t.isFunction=function(e){return"function"==typeof e},t.isArray=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},fe._jq=function(e){e!==t&&(l(e,t),t=e,t.fn.render=Q,delete t.jsrender,ie=t.expando)},t.jsrender=Fe;pe=fe.settings,pe.allowCode=!1,ae=t.isFunction,t.render=Ze,t.views=ue,t.templates=se=ue.templates;for(Ce in pe)B(Ce);(ge.debugMode=function(e){return void 0===e?pe.debugMode:(pe.debugMode=e,pe.onError=e+""===e?function(){return e}:ae(e)?e:void 0,ge)})(!1),me=pe.advanced={useViews:!1,_jsv:!1},de({if:{render:function(e){var t=this,n=t.tagCtx;return t.rendering.done||!e&&(n.args.length||!n.index)?"":(t.rendering.done=!0,void(t.selected=n.index))},contentCtx:!0,flow:!0},for:{sortDataMap:S(K),init:function(e,t){var n,r,u,i=this,a=i.tagCtxs;for(n=a.length;n--;)r=a[n],u=r.props,r.argDefault=void 0===u.end||r.args.length>0,!1!==r.argDefault&&oe(r.args[0])&&(void 0!==u.sort||r.params.props.start||r.params.props.end||void 0!==u.step||u.filter||u.reverse)&&(u.dataMap=i.sortDataMap)},render:function(e){var t,n,r,u,i,a=this,o=a.tagCtx,s=!1===o.argDefault,l=o.props,c=s||o.args.length,d="",f=0;if(!a.rendering.done){if(t=c?e:o.view.data,s)for(s=l.reverse?"unshift":"push",u=+l.end,i=+l.step||1,t=[],r=+l.start||0;(u-r)*i>0;r+=i)t[s](r);void 0!==t&&(n=oe(t),d+=o.render(t,!c||l.noIteration),f+=n?t.length:1),(a.rendering.done=f)&&(a.selected=o.index)}return d},flow:!0},props:{baseTag:"for",dataMap:S(J),init:a,flow:!0},include:{flow:!0},"*":{render:i,flow:!0},":*":{render:i,flow:!0},dbg:ce.dbg=le.dbg=o}),le({html:W,attr:W,encode:Y,unencode:X,url:function(e){return void 0!=e?encodeURI(""+e):null===e?e:""}})}return pe=fe.settings,oe=(t||Ge).isArray,ge.delimiters("{{","}}","^"),We&&Ge.views.sub._jq(t),t||Ge},window)},{}],15:[function(e,t,n){(function(e){!function(){var r="object"==typeof self&&self.self===self&&self||"object"==typeof e&&e.global===e&&e||this||{},u=r._,i=Array.prototype,a=Object.prototype,o="undefined"!=typeof Symbol?Symbol.prototype:null,s=i.push,l=i.slice,c=a.toString,d=a.hasOwnProperty,f=Array.isArray,p=Object.keys,m=Object.create,g=function(){},v=function(e){return e instanceof v?e:this instanceof v?void(this._wrapped=e):new v(e)};void 0===n||n.nodeType?r._=v:(void 0!==t&&!t.nodeType&&t.exports&&(n=t.exports=v),n._=v),v.VERSION="1.9.0";var h,b=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,u){return e.call(t,n,r,u)};case 4:return function(n,r,u,i){return e.call(t,n,r,u,i)}}return function(){return e.apply(t,arguments)}},E=function(e,t,n){return v.iteratee!==h?v.iteratee(e,t):null==e?v.identity:v.isFunction(e)?b(e,t,n):v.isObject(e)&&!v.isArray(e)?v.matcher(e):v.property(e)};v.iteratee=h=function(e,t){return E(e,t,1/0)};var y=function(e,t){return t=null==t?e.length-1:+t,function(){for(var n=Math.max(arguments.length-t,0),r=Array(n),u=0;u<n;u++)r[u]=arguments[u+t];switch(t){case 0:return e.call(this,r);case 1:return e.call(this,arguments[0],r);case 2:return e.call(this,arguments[0],arguments[1],r)}var i=Array(t+1);for(u=0;u<t;u++)i[u]=arguments[u];return i[t]=r,e.apply(this,i)}},C=function(e){if(!v.isObject(e))return{};if(m)return m(e);g.prototype=e;var t=new g;return g.prototype=null,t
},A=function(e){return function(t){return null==t?void 0:t[e]}},F=function(e,t){for(var n=t.length,r=0;r<n;r++){if(null==e)return;e=e[t[r]]}return n?e:void 0},w=Math.pow(2,53)-1,x=A("length"),_=function(e){var t=x(e);return"number"==typeof t&&t>=0&&t<=w};v.each=v.forEach=function(e,t,n){t=b(t,n);var r,u;if(_(e))for(r=0,u=e.length;r<u;r++)t(e[r],r,e);else{var i=v.keys(e);for(r=0,u=i.length;r<u;r++)t(e[i[r]],i[r],e)}return e},v.map=v.collect=function(e,t,n){t=E(t,n);for(var r=!_(e)&&v.keys(e),u=(r||e).length,i=Array(u),a=0;a<u;a++){var o=r?r[a]:a;i[a]=t(e[o],o,e)}return i};var D=function(e){var t=function(t,n,r,u){var i=!_(t)&&v.keys(t),a=(i||t).length,o=e>0?0:a-1;for(u||(r=t[i?i[o]:o],o+=e);o>=0&&o<a;o+=e){var s=i?i[o]:o;r=n(r,t[s],s,t)}return r};return function(e,n,r,u){var i=arguments.length>=3;return t(e,b(n,u,4),r,i)}};v.reduce=v.foldl=v.inject=D(1),v.reduceRight=v.foldr=D(-1),v.find=v.detect=function(e,t,n){var r=_(e)?v.findIndex:v.findKey,u=r(e,t,n);if(void 0!==u&&-1!==u)return e[u]},v.filter=v.select=function(e,t,n){var r=[];return t=E(t,n),v.each(e,function(e,n,u){t(e,n,u)&&r.push(e)}),r},v.reject=function(e,t,n){return v.filter(e,v.negate(E(t)),n)},v.every=v.all=function(e,t,n){t=E(t,n);for(var r=!_(e)&&v.keys(e),u=(r||e).length,i=0;i<u;i++){var a=r?r[i]:i;if(!t(e[a],a,e))return!1}return!0},v.some=v.any=function(e,t,n){t=E(t,n);for(var r=!_(e)&&v.keys(e),u=(r||e).length,i=0;i<u;i++){var a=r?r[i]:i;if(t(e[a],a,e))return!0}return!1},v.contains=v.includes=v.include=function(e,t,n,r){return _(e)||(e=v.values(e)),("number"!=typeof n||r)&&(n=0),v.indexOf(e,t,n)>=0},v.invoke=y(function(e,t,n){var r,u;return v.isFunction(t)?u=t:v.isArray(t)&&(r=t.slice(0,-1),t=t[t.length-1]),v.map(e,function(e){var i=u;if(!i){if(r&&r.length&&(e=F(e,r)),null==e)return;i=e[t]}return null==i?i:i.apply(e,n)})}),v.pluck=function(e,t){return v.map(e,v.property(t))},v.where=function(e,t){return v.filter(e,v.matcher(t))},v.findWhere=function(e,t){return v.find(e,v.matcher(t))},v.max=function(e,t,n){var r,u,i=-1/0,a=-1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=_(e)?e:v.values(e);for(var o=0,s=e.length;o<s;o++)null!=(r=e[o])&&r>i&&(i=r)}else t=E(t,n),v.each(e,function(e,n,r){((u=t(e,n,r))>a||u===-1/0&&i===-1/0)&&(i=e,a=u)});return i},v.min=function(e,t,n){var r,u,i=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=_(e)?e:v.values(e);for(var o=0,s=e.length;o<s;o++)null!=(r=e[o])&&r<i&&(i=r)}else t=E(t,n),v.each(e,function(e,n,r){((u=t(e,n,r))<a||u===1/0&&i===1/0)&&(i=e,a=u)});return i},v.shuffle=function(e){return v.sample(e,1/0)},v.sample=function(e,t,n){if(null==t||n)return _(e)||(e=v.values(e)),e[v.random(e.length-1)];var r=_(e)?v.clone(e):v.values(e),u=x(r);t=Math.max(Math.min(t,u),0);for(var i=u-1,a=0;a<t;a++){var o=v.random(a,i),s=r[a];r[a]=r[o],r[o]=s}return r.slice(0,t)},v.sortBy=function(e,t,n){var r=0;return t=E(t,n),v.pluck(v.map(e,function(e,n,u){return{value:e,index:r++,criteria:t(e,n,u)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var M=function(e,t){return function(n,r,u){var i=t?[[],[]]:{};return r=E(r,u),v.each(n,function(t,u){var a=r(t,u,n);e(i,t,a)}),i}};v.groupBy=M(function(e,t,n){v.has(e,n)?e[n].push(t):e[n]=[t]}),v.indexBy=M(function(e,t,n){e[n]=t}),v.countBy=M(function(e,t,n){v.has(e,n)?e[n]++:e[n]=1});var j=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;v.toArray=function(e){return e?v.isArray(e)?l.call(e):v.isString(e)?e.match(j):_(e)?v.map(e,v.identity):v.values(e):[]},v.size=function(e){return null==e?0:_(e)?e.length:v.keys(e).length},v.partition=M(function(e,t,n){e[n?0:1].push(t)},!0),v.first=v.head=v.take=function(e,t,n){if(!(null==e||e.length<1))return null==t||n?e[0]:v.initial(e,e.length-t)},v.initial=function(e,t,n){return l.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},v.last=function(e,t,n){if(!(null==e||e.length<1))return null==t||n?e[e.length-1]:v.rest(e,Math.max(0,e.length-t))},v.rest=v.tail=v.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},v.compact=function(e){return v.filter(e,Boolean)};var k=function(e,t,n,r){r=r||[];for(var u=r.length,i=0,a=x(e);i<a;i++){var o=e[i];if(_(o)&&(v.isArray(o)||v.isArguments(o)))if(t)for(var s=0,l=o.length;s<l;)r[u++]=o[s++];else k(o,t,n,r),u=r.length;else n||(r[u++]=o)}return r};v.flatten=function(e,t){return k(e,t,!1)},v.without=y(function(e,t){return v.difference(e,t)}),v.uniq=v.unique=function(e,t,n,r){v.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=E(n,r));for(var u=[],i=[],a=0,o=x(e);a<o;a++){var s=e[a],l=n?n(s,a,e):s;t&&!n?(a&&i===l||u.push(s),i=l):n?v.contains(i,l)||(i.push(l),u.push(s)):v.contains(u,s)||u.push(s)}return u},v.union=y(function(e){return v.uniq(k(e,!0,!0))}),v.intersection=function(e){for(var t=[],n=arguments.length,r=0,u=x(e);r<u;r++){var i=e[r];if(!v.contains(t,i)){var a;for(a=1;a<n&&v.contains(arguments[a],i);a++);a===n&&t.push(i)}}return t},v.difference=y(function(e,t){return t=k(t,!0,!0),v.filter(e,function(e){return!v.contains(t,e)})}),v.unzip=function(e){for(var t=e&&v.max(e,x).length||0,n=Array(t),r=0;r<t;r++)n[r]=v.pluck(e,r);return n},v.zip=y(v.unzip),v.object=function(e,t){for(var n={},r=0,u=x(e);r<u;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n};var N=function(e){return function(t,n,r){n=E(n,r);for(var u=x(t),i=e>0?0:u-1;i>=0&&i<u;i+=e)if(n(t[i],i,t))return i;return-1}};v.findIndex=N(1),v.findLastIndex=N(-1),v.sortedIndex=function(e,t,n,r){n=E(n,r,1);for(var u=n(t),i=0,a=x(e);i<a;){var o=Math.floor((i+a)/2);n(e[o])<u?i=o+1:a=o}return i};var B=function(e,t,n){return function(r,u,i){var a=0,o=x(r);if("number"==typeof i)e>0?a=i>=0?i:Math.max(i+o,a):o=i>=0?Math.min(i+1,o):i+o+1;else if(n&&i&&o)return i=n(r,u),r[i]===u?i:-1;if(u!==u)return i=t(l.call(r,a,o),v.isNaN),i>=0?i+a:-1;for(i=e>0?a:o-1;i>=0&&i<o;i+=e)if(r[i]===u)return i;return-1}};v.indexOf=B(1,v.findIndex,v.sortedIndex),v.lastIndexOf=B(-1,v.findLastIndex),v.range=function(e,t,n){null==t&&(t=e||0,e=0),n||(n=t<e?-1:1);for(var r=Math.max(Math.ceil((t-e)/n),0),u=Array(r),i=0;i<r;i++,e+=n)u[i]=e;return u},v.chunk=function(e,t){if(null==t||t<1)return[];for(var n=[],r=0,u=e.length;r<u;)n.push(l.call(e,r,r+=t));return n};var S=function(e,t,n,r,u){if(!(r instanceof t))return e.apply(n,u);var i=C(e.prototype),a=e.apply(i,u);return v.isObject(a)?a:i};v.bind=y(function(e,t,n){if(!v.isFunction(e))throw new TypeError("Bind must be called on a function");var r=y(function(u){return S(e,r,t,this,n.concat(u))});return r}),v.partial=y(function(e,t){var n=v.partial.placeholder,r=function(){for(var u=0,i=t.length,a=Array(i),o=0;o<i;o++)a[o]=t[o]===n?arguments[u++]:t[o];for(;u<arguments.length;)a.push(arguments[u++]);return S(e,r,this,this,a)};return r}),v.partial.placeholder=v,v.bindAll=y(function(e,t){t=k(t,!1,!1);var n=t.length;if(n<1)throw new Error("bindAll must be passed function names");for(;n--;){var r=t[n];e[r]=v.bind(e[r],e)}}),v.memoize=function(e,t){var n=function(r){var u=n.cache,i=""+(t?t.apply(this,arguments):r);return v.has(u,i)||(u[i]=e.apply(this,arguments)),u[i]};return n.cache={},n},v.delay=y(function(e,t,n){return setTimeout(function(){return e.apply(null,n)},t)}),v.defer=v.partial(v.delay,v,1),v.throttle=function(e,t,n){var r,u,i,a,o=0;n||(n={});var s=function(){o=!1===n.leading?0:v.now(),r=null,a=e.apply(u,i),r||(u=i=null)},l=function(){var l=v.now();o||!1!==n.leading||(o=l);var c=t-(l-o);return u=this,i=arguments,c<=0||c>t?(r&&(clearTimeout(r),r=null),o=l,a=e.apply(u,i),r||(u=i=null)):r||!1===n.trailing||(r=setTimeout(s,c)),a};return l.cancel=function(){clearTimeout(r),o=0,r=u=i=null},l},v.debounce=function(e,t,n){var r,u,i=function(t,n){r=null,n&&(u=e.apply(t,n))},a=y(function(a){if(r&&clearTimeout(r),n){var o=!r;r=setTimeout(i,t),o&&(u=e.apply(this,a))}else r=v.delay(i,t,this,a);return u});return a.cancel=function(){clearTimeout(r),r=null},a},v.wrap=function(e,t){return v.partial(t,e)},v.negate=function(e){return function(){return!e.apply(this,arguments)}},v.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},v.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},v.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},v.once=v.partial(v.before,2),v.restArguments=y;var T=!{toString:null}.propertyIsEnumerable("toString"),$=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],O=function(e,t){var n=$.length,r=e.constructor,u=v.isFunction(r)&&r.prototype||a,i="constructor";for(v.has(e,i)&&!v.contains(t,i)&&t.push(i);n--;)(i=$[n])in e&&e[i]!==u[i]&&!v.contains(t,i)&&t.push(i)};v.keys=function(e){if(!v.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)v.has(e,n)&&t.push(n);return T&&O(e,t),t},v.allKeys=function(e){if(!v.isObject(e))return[];var t=[];for(var n in e)t.push(n);return T&&O(e,t),t},v.values=function(e){for(var t=v.keys(e),n=t.length,r=Array(n),u=0;u<n;u++)r[u]=e[t[u]];return r},v.mapObject=function(e,t,n){t=E(t,n);for(var r=v.keys(e),u=r.length,i={},a=0;a<u;a++){var o=r[a];i[o]=t(e[o],o,e)}return i},v.pairs=function(e){for(var t=v.keys(e),n=t.length,r=Array(n),u=0;u<n;u++)r[u]=[t[u],e[t[u]]];return r},v.invert=function(e){for(var t={},n=v.keys(e),r=0,u=n.length;r<u;r++)t[e[n[r]]]=n[r];return t},v.functions=v.methods=function(e){var t=[];for(var n in e)v.isFunction(e[n])&&t.push(n);return t.sort()};var R=function(e,t){return function(n){var r=arguments.length;if(t&&(n=Object(n)),r<2||null==n)return n;for(var u=1;u<r;u++)for(var i=arguments[u],a=e(i),o=a.length,s=0;s<o;s++){var l=a[s];t&&void 0!==n[l]||(n[l]=i[l])}return n}};v.extend=R(v.allKeys),v.extendOwn=v.assign=R(v.keys),v.findKey=function(e,t,n){t=E(t,n);for(var r,u=v.keys(e),i=0,a=u.length;i<a;i++)if(r=u[i],t(e[r],r,e))return r};var I=function(e,t,n){return t in n};v.pick=y(function(e,t){var n={},r=t[0];if(null==e)return n;v.isFunction(r)?(t.length>1&&(r=b(r,t[1])),t=v.allKeys(e)):(r=I,t=k(t,!1,!1),e=Object(e));for(var u=0,i=t.length;u<i;u++){var a=t[u],o=e[a];r(o,a,e)&&(n[a]=o)}return n}),v.omit=y(function(e,t){var n,r=t[0];return v.isFunction(r)?(r=v.negate(r),t.length>1&&(n=t[1])):(t=v.map(k(t,!1,!1),String),r=function(e,n){return!v.contains(t,n)}),v.pick(e,r,n)}),v.defaults=R(v.allKeys,!0),v.create=function(e,t){var n=C(e);return t&&v.extendOwn(n,t),n},v.clone=function(e){return v.isObject(e)?v.isArray(e)?e.slice():v.extend({},e):e},v.tap=function(e,t){return t(e),e},v.isMatch=function(e,t){var n=v.keys(t),r=n.length;if(null==e)return!r;for(var u=Object(e),i=0;i<r;i++){var a=n[i];if(t[a]!==u[a]||!(a in u))return!1}return!0};var q,U;q=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return!1;if(e!==e)return t!==t;var u=typeof e;return("function"===u||"object"===u||"object"==typeof t)&&U(e,t,n,r)},U=function(e,t,n,r){e instanceof v&&(e=e._wrapped),t instanceof v&&(t=t._wrapped);var u=c.call(e);if(u!==c.call(t))return!1;switch(u){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object Symbol]":return o.valueOf.call(e)===o.valueOf.call(t)}var i="[object Array]"===u;if(!i){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,s=t.constructor;if(a!==s&&!(v.isFunction(a)&&a instanceof a&&v.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],r=r||[];for(var l=n.length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),i){if((l=e.length)!==t.length)return!1;for(;l--;)if(!q(e[l],t[l],n,r))return!1}else{var d,f=v.keys(e);if(l=f.length,v.keys(t).length!==l)return!1;for(;l--;)if(d=f[l],!v.has(t,d)||!q(e[d],t[d],n,r))return!1}return n.pop(),r.pop(),!0},v.isEqual=function(e,t){return q(e,t)},v.isEmpty=function(e){return null==e||(_(e)&&(v.isArray(e)||v.isString(e)||v.isArguments(e))?0===e.length:0===v.keys(e).length)},v.isElement=function(e){return!(!e||1!==e.nodeType)},v.isArray=f||function(e){return"[object Array]"===c.call(e)},v.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},v.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){v["is"+e]=function(t){return c.call(t)==="[object "+e+"]"}}),v.isArguments(arguments)||(v.isArguments=function(e){return v.has(e,"callee")});var P=r.document&&r.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof P&&(v.isFunction=function(e){return"function"==typeof e||!1}),v.isFinite=function(e){return!v.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},v.isNaN=function(e){return v.isNumber(e)&&isNaN(e)},v.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===c.call(e)},v.isNull=function(e){return null===e},v.isUndefined=function(e){return void 0===e},v.has=function(e,t){if(!v.isArray(t))return null!=e&&d.call(e,t);for(var n=t.length,r=0;r<n;r++){var u=t[r];if(null==e||!d.call(e,u))return!1;e=e[u]}return!!n},v.noConflict=function(){return r._=u,this},v.identity=function(e){return e},v.constant=function(e){return function(){return e}},v.noop=function(){},v.property=function(e){return v.isArray(e)?function(t){return F(t,e)}:A(e)},v.propertyOf=function(e){return null==e?function(){}:function(t){return v.isArray(t)?F(e,t):e[t]}},v.matcher=v.matches=function(e){return e=v.extendOwn({},e),function(t){return v.isMatch(t,e)}},v.times=function(e,t,n){var r=Array(Math.max(0,e));t=b(t,n,1);for(var u=0;u<e;u++)r[u]=t(u);return r},v.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},v.now=Date.now||function(){return(new Date).getTime()};var L={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},z=v.invert(L),V=function(e){var t=function(t){return e[t]},n="(?:"+v.keys(e).join("|")+")",r=RegExp(n),u=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(u,t):e}};v.escape=V(L),v.unescape=V(z),v.result=function(e,t,n){v.isArray(t)||(t=[t]);var r=t.length;if(!r)return v.isFunction(n)?n.call(e):n;for(var u=0;u<r;u++){var i=null==e?void 0:e[t[u]];void 0===i&&(i=n,u=r),e=v.isFunction(i)?i.call(e):i}return e};var H=0;v.uniqueId=function(e){var t=++H+"";return e?e+t:t},v.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var J=/(.)^/,K={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Q=/\\|'|\r|\n|\u2028|\u2029/g,Z=function(e){return"\\"+K[e]};v.template=function(e,t,n){!t&&n&&(t=n),t=v.defaults({},t,v.templateSettings);var r=RegExp([(t.escape||J).source,(t.interpolate||J).source,(t.evaluate||J).source].join("|")+"|$","g"),u=0,i="__p+='";e.replace(r,function(t,n,r,a,o){return i+=e.slice(u,o).replace(Q,Z),u=o+t.length,n?i+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?i+="'+\n((__t=("+r+"))==null?'':__t)+\n'":a&&(i+="';\n"+a+"\n__p+='"),t}),i+="';\n",t.variable||(i="with(obj||{}){\n"+i+"}\n"),i="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+i+"return __p;\n";var a;try{a=new Function(t.variable||"obj","_",i)}catch(e){throw e.source=i,e}var o=function(e){return a.call(this,e,v)};return o.source="function("+(t.variable||"obj")+"){\n"+i+"}",o},v.chain=function(e){var t=v(e);return t._chain=!0,t};var G=function(e,t){return e._chain?v(t).chain():t};v.mixin=function(e){return v.each(v.functions(e),function(t){var n=v[t]=e[t];v.prototype[t]=function(){var e=[this._wrapped];return s.apply(e,arguments),G(this,n.apply(v,e))}}),v},v.mixin(v),v.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];v.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],G(this,n)}}),v.each(["concat","join","slice"],function(e){var t=i[e];v.prototype[e]=function(){return G(this,t.apply(this._wrapped,arguments))}}),v.prototype.value=function(){return this._wrapped},v.prototype.valueOf=v.prototype.toJSON=v.prototype.value,v.prototype.toString=function(){return String(this._wrapped)},"function"==typeof define&&define.amd&&define("underscore",[],function(){return v})}()}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[7]);
//# sourceMappingURL=index.dynamicMenu.min.js.map
